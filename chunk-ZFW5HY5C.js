import{a as ne}from"./chunk-INNUNCVX.js";import"./chunk-NQQ5ELY4.js";import{a as Y,b as G,c as Z,d as q,e as J,f as Q}from"./chunk-FXCUDPYU.js";import{a as B}from"./chunk-R4XEQ3AE.js";import{a as X,c as ee,g as te,h as ie}from"./chunk-5GGOMSGT.js";import{Fa as x,Fb as I,Gb as K,Ha as l,Ja as s,La as F,Na as p,O as P,Oa as y,Pa as z,Qa as A,R as _,S as u,Ya as U,Z as m,Za as D,a as M,aa as N,b as T,ba as c,eb as $,gb as j,ha as V,ib as R,mb as W,qa as b,ra as f,sa as S,ta as L,ua as k,va as w,wa as g,xa as a,ya as d,za as h,zb as H}from"./chunk-QVP6TR5P.js";var re=(r,i)=>i.id;function ae(r,i){if(r&1){let e=x();a(0,"button",34),l("click",function(){_(e);let n=s();return u(n.deleteNote())}),h(1,"app-icon",35),d()}r&2&&(c(),g("size",20))}function ce(r,i){r&1&&h(0,"app-icon",9),r&2&&g("size",20)}function de(r,i){r&1&&h(0,"app-icon",10),r&2&&g("size",20)}function le(r,i){r&1&&(a(0,"option",15),p(1,"Loading categories..."),d())}function se(r,i){if(r&1&&(a(0,"option",36),p(1),d()),r&2){let e=i.$implicit;g("value",e.id),c(),y(e.name)}}function ge(r,i){if(r&1&&k(0,se,2,2,"option",36,re),r&2){let e=s();w(e.categories())}}function me(r,i){if(r&1){let e=x();a(0,"span",20),p(1),a(2,"button",37),l("click",function(){let n=_(e).$implicit,o=s();return u(o.removeTag(n))}),p(3,"\xD7"),d()()}if(r&2){let e=i.$implicit;c(),z(" ",e," ")}}function pe(r,i){r&1&&(a(0,"div",39),h(1,"div",41),d())}function _e(r,i){if(r&1){let e=x();a(0,"div",25)(1,"img",38),l("load",function(n){_(e);let o=s();return u(o.onImageLoad(n))})("error",function(n){_(e);let o=s();return u(o.onImageError(n))})("click",function(){let n=_(e).$index,o=s();return u(o.openImagePreview(n))}),d(),b(2,pe,2,0,"div",39),a(3,"button",40),l("click",function(n){let o=_(e).$index;return s().removeImage(o),u(n.stopPropagation())}),p(4,"\xD7"),d()()}if(r&2){let e=i.$implicit,t=i.$index,n=s();c(),F("loaded",e.startsWith("data:")||n.imageLoaded()[t]===!0)("loading",!e.startsWith("data:")&&n.imageLoaded()[t]!==!0),g("src",e,N),c(),f(!e.startsWith("data:")&&n.imageLoaded()[t]!==!0?2:-1)}}function ue(r,i){if(r&1&&(a(0,"p",44),p(1),d()),r&2){let e=s().$implicit;c(),y(e.description)}}function ve(r,i){if(r&1){let e=x();a(0,"div",30)(1,"div",42)(2,"a",43),p(3),d(),b(4,ue,2,1,"p",44),a(5,"span",45),p(6),d()(),a(7,"button",46),l("click",function(){let n=_(e).$index,o=s();return u(o.removeLink(n))}),p(8,"\xD7"),d()()}if(r&2){let e=i.$implicit;c(2),g("href",e.url,N),c(),z(" ",e.title," "),c(),f(e.description?4:-1),c(2),y(e.url)}}function he(r,i){if(r&1){let e=x();a(0,"div",31)(1,"input",47),l("input",function(n){_(e);let o=s();return u(o.linkUrl.set(n.target.value))}),d(),a(2,"input",48),l("input",function(n){_(e);let o=s();return u(o.linkTitle.set(n.target.value))}),d(),a(3,"input",49),l("input",function(n){_(e);let o=s();return u(o.linkDescription.set(n.target.value))}),d(),a(4,"div",50)(5,"button",51),l("click",function(){_(e);let n=s();return u(n.addLink())}),p(6,"Add"),d(),a(7,"button",52),l("click",function(){_(e);let n=s();return u(n.showLinkForm.set(!1))}),p(8,"Cancel"),d()()()}if(r&2){let e=s();c(),g("value",e.linkUrl()),c(),g("value",e.linkTitle()),c(),g("value",e.linkDescription())}}function be(r,i){if(r&1){let e=x();a(0,"button",52),l("click",function(){_(e);let n=s();return u(n.showLinkForm.set(!0))}),h(1,"app-icon",53),a(2,"span"),p(3,"Add Link"),d()()}r&2&&(c(),g("size",18))}function fe(r,i){if(r&1){let e=x();a(0,"button",60),l("click",function(){_(e);let n=s(2);return u(n.previousImage())}),h(1,"app-icon",4),d(),a(2,"button",61),l("click",function(){_(e);let n=s(2);return u(n.nextImage())}),h(3,"app-icon",62),d()}if(r&2){let e=s(2);g("disabled",e.previewImageIndex()===0),c(),g("size",24),c(),g("disabled",e.previewImageIndex()===e.images().length-1),c(),g("size",24)}}function xe(r,i){if(r&1&&(a(0,"div",59),p(1),d()),r&2){let e=s(2);c(),A(" ",e.previewImageIndex()+1," / ",e.images().length," ")}}function Ce(r,i){if(r&1){let e=x();a(0,"div",54),l("click",function(){_(e);let n=s();return u(n.closeImagePreview())}),a(1,"div",55),l("click",function(n){return _(e),u(n.stopPropagation())}),a(2,"button",56),l("click",function(){_(e);let n=s();return u(n.closeImagePreview())}),h(3,"app-icon",57),d(),b(4,fe,4,4),h(5,"img",58),b(6,xe,2,2,"div",59),d()()}if(r&2){let e=s();c(3),g("size",24),c(),f(e.images().length>1?4:-1),c(),g("src",e.images()[e.previewImageIndex()],N),c(),f(e.images().length>1?6:-1)}}var oe=class r{route=P(j);router=P(R);store=P(H);authService=P(W);notesService=P(B);title=m("");content=m("");categoryId=m("");tags=m([]);images=m([]);links=m([]);tagInput=m("");linkUrl=m("");linkTitle=m("");linkDescription=m("");showLinkForm=m(!1);isSaving=m(!1);imageLoaded=m({});previewImageIndex=m(null);keyDownHandler=this.handleKeyDown.bind(this);imageZoom=m(1);imagePosition=m({x:0,y:0});isDragging=m(!1);dragStart=m(null);noteId=m(null);isEditMode=U(()=>this.noteId()!==null);categories=this.store.selectSignal(ee);allNotes=this.store.selectSignal(X);constructor(){D(()=>{let i=this.noteId(),e=this.allNotes();i&&e.length>0&&this.loadNote(i)}),D(()=>{let i=this.categories(),e=this.categoryId();if(!this.isEditMode()&&i.length>0&&!e){let t=i[0];t&&this.categoryId.set(t.id)}})}ngOnInit(){let i=this.authService.currentUser()?.email||null;this.notesService.loadFromStorage(i),this.store.dispatch(I.loadNotes()),this.store.dispatch(K.loadCategories()),document.addEventListener("keydown",this.keyDownHandler),this.route.paramMap.subscribe(e=>{let t=e.get("id");if(t&&t!=="new")this.noteId.set(t),this.allNotes().length>0&&this.loadNote(t);else{this.noteId.set(null),this.title.set(""),this.content.set(""),this.tags.set([]),this.images.set([]),this.links.set([]);let n=this.categories();n.length>0&&this.categoryId.set(n[0].id)}})}loadNote(i){let t=this.allNotes().find(n=>n.id===i);if(t){this.title.set(t.title),this.content.set(t.content),this.categoryId.set(t.categoryId),this.tags.set(t.tags||[]);let n=t.images||[];this.images.set(n);let o={};n.forEach((v,C)=>{v.startsWith("data:")?o[C]=!0:o[C]=!1}),this.imageLoaded.set(o),n.length>0&&setTimeout(()=>{let v=this.images(),C=M({},this.imageLoaded());v.forEach((E,O)=>{E.startsWith("data:")&&(C[O]=!0)}),this.imageLoaded.set(C)},100),this.links.set(t.links||[])}else console.warn(`Note with id ${i} not found`)}onImageUpload(i){let e=i.target;if(e.files&&e.files.length>0){let t=e.files[0];if(t.type.startsWith("image/")){let n=new FileReader;n.onload=o=>{let v=o.target?.result,E=this.images().length;this.images.update(O=>[...O,v]),setTimeout(()=>{this.imageLoaded.update(O=>T(M({},O),{[E]:!0}))},50)},n.onerror=()=>{console.error("Error reading image file")},n.readAsDataURL(t)}}e.value=""}removeImage(i){this.images.update(t=>t.filter((n,o)=>o!==i));let e=M({},this.imageLoaded());delete e[i],this.imageLoaded.set(e),this.previewImageIndex()===i&&this.previewImageIndex.set(null)}openImagePreview(i){this.previewImageIndex.set(i)}closeImagePreview(){this.previewImageIndex.set(null)}nextImage(){let i=this.previewImageIndex();i!==null&&i<this.images().length-1&&this.previewImageIndex.set(i+1)}previousImage(){let i=this.previewImageIndex();i!==null&&i>0&&this.previewImageIndex.set(i-1)}onImageLoad(i){let e=i.target,t=this.images(),n=-1;for(let o=0;o<t.length;o++){let v=t[o];if(v.startsWith("data:")){if(e.src===v||e.src.includes(v.substring(0,50))){n=o;break}}else if(e.src===v||e.src.endsWith(v)){n=o;break}}n!==-1&&this.imageLoaded.update(o=>T(M({},o),{[n]:!0}))}onImageError(i){let e=i.target,t=this.images(),n=-1;for(let o=0;o<t.length;o++){let v=t[o];if(e.src===v||e.src.includes(v.substring(0,50))){n=o;break}}n!==-1&&(e.style.opacity="0",e.style.display="none",this.imageLoaded.update(o=>{let v=M({},o);return delete v[n],v}))}addTag(){let i=this.tagInput().trim();i&&!this.tags().includes(i)&&(this.tags.update(e=>[...e,i]),this.tagInput.set(""))}removeTag(i){this.tags.update(e=>e.filter(t=>t!==i))}addLink(){let i=this.linkUrl().trim(),e=this.linkTitle().trim()||i;if(i){let t={url:i,title:e,description:this.linkDescription().trim()||void 0};this.links.update(n=>[...n,t]),this.linkUrl.set(""),this.linkTitle.set(""),this.linkDescription.set(""),this.showLinkForm.set(!1)}}removeLink(i){this.links.update(e=>e.filter((t,n)=>n!==i))}saveNote(){if(!this.title().trim()&&!this.content().trim())return;if(!this.categoryId()||this.categoryId().trim()===""){let e=this.categories()[0];if(e)this.categoryId.set(e.id);else{console.error("No category available. Please create a category first.");return}}this.isSaving.set(!0);let i={title:this.title().trim()||"Untitled Note",content:this.content().trim(),categoryId:this.categoryId(),tags:this.tags().length>0?this.tags():void 0,images:this.images().length>0?this.images():void 0,links:this.links().length>0?this.links():void 0};if(this.isEditMode()){let e=this.noteId();if(!e){console.error("Note ID is missing"),this.isSaving.set(!1);return}this.store.dispatch(I.updateNote({id:e,updates:i}))}else this.store.dispatch(I.createNote({note:i}));setTimeout(()=>{this.isSaving.set(!1),this.router.navigate(["/"])},300)}deleteNote(){this.noteId()&&confirm("Are you sure you want to delete this note?")&&(this.store.dispatch(I.deleteNote({id:this.noteId()})),this.router.navigate(["/"]))}cancel(){this.router.navigate(["/"])}handleKeyDown(i){if(this.previewImageIndex()!==null)switch(i.key){case"Escape":this.closeImagePreview();break;case"ArrowRight":i.preventDefault(),this.nextImage();break;case"ArrowLeft":i.preventDefault(),this.previousImage();break}}ngOnDestroy(){document.removeEventListener("keydown",this.keyDownHandler)}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=V({type:r,selectors:[["app-note-editor"]],decls:52,vars:14,consts:[[1,"note-editor"],[1,"editor-container"],[1,"editor-header"],["aria-label","Back",1,"icon-btn","back-btn",3,"click"],["name","back",3,"size"],[1,"editor-title"],[1,"header-actions"],["aria-label","Delete",1,"icon-btn","danger-btn"],["aria-label","Save",1,"icon-btn","save-btn",3,"click","disabled"],["name","sync-loading",3,"size"],["name","save",3,"size"],[1,"editor-content",3,"submit"],["type","text","name","note-title","id","note-title","placeholder","Note Title","autocomplete","off","data-form-type","other","data-lpignore","true","data-1p-ignore","true","data-bwignore","true","aria-label","Note title",1,"note-title-input",3,"input","value"],[1,"form-group"],["name","note-category","id","note-category","autocomplete","off","data-form-type","other","data-lpignore","true","data-1p-ignore","true","data-bwignore","true","aria-label","Note category",1,"form-select",3,"change","value","disabled"],["value",""],["name","note-content","id","note-content","placeholder","Start writing...","rows","8","autocomplete","off","data-form-type","other","data-lpignore","true","data-1p-ignore","true","data-bwignore","true","role","textbox","aria-label","Note content",1,"note-content-input",3,"input","value"],[1,"form-section"],[1,"tags-container"],[1,"tags-list"],[1,"tag"],[1,"tag-input-group"],["type","text","name","tag-input","id","tag-input","placeholder","Add tag","autocomplete","off","data-form-type","other","data-lpignore","true","data-1p-ignore","true","data-bwignore","true","aria-label","Add tag",1,"tag-input",3,"input","keyup.enter","value"],[1,"btn","btn-small",3,"click"],[1,"images-container"],[1,"image-preview"],[1,"image-upload-btn"],["type","file","accept","image/*",2,"display","none",3,"change"],["name","image",3,"size"],[1,"links-container"],[1,"link-item"],[1,"link-form"],["type","button",1,"btn","btn-secondary"],[1,"image-preview-modal"],["aria-label","Delete",1,"icon-btn","danger-btn",3,"click"],["name","delete",3,"size"],[3,"value"],[1,"tag-remove",3,"click"],["alt","Note image","loading","eager",2,"cursor","pointer",3,"load","error","click","src"],[1,"image-loading"],["aria-label","Remove image",1,"image-remove",3,"click"],[1,"loading-spinner"],[1,"link-content"],["target","_blank",1,"link-title",3,"href"],[1,"link-description"],[1,"link-url"],[1,"link-remove",3,"click"],["type","url","name","link-url","id","link-url","placeholder","URL","autocomplete","off","data-form-type","other","data-lpignore","true","data-1p-ignore","true","data-bwignore","true","aria-label","Link URL",1,"form-input",3,"input","value"],["type","text","name","link-title","id","link-title","placeholder","Title (optional)","autocomplete","off","data-form-type","other","data-lpignore","true","data-1p-ignore","true","data-bwignore","true","aria-label","Link title",1,"form-input",3,"input","value"],["type","text","name","link-description","id","link-description","placeholder","Description (optional)","autocomplete","off","data-form-type","other","data-lpignore","true","data-1p-ignore","true","data-bwignore","true","aria-label","Link description",1,"form-input",3,"input","value"],[1,"link-form-actions"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-secondary",3,"click"],["name","link",3,"size"],[1,"image-preview-modal",3,"click"],[1,"modal-content",3,"click"],["aria-label","Close preview",1,"modal-close",3,"click"],["name","close",3,"size"],["alt","Preview image",1,"preview-image",3,"src"],[1,"image-counter"],["aria-label","Previous image",1,"modal-nav","modal-nav-prev",3,"click","disabled"],["aria-label","Next image",1,"modal-nav","modal-nav-next",3,"click","disabled"],["name","back",2,"transform","rotate(180deg)",3,"size"]],template:function(e,t){e&1&&(a(0,"div",0)(1,"div",1)(2,"header",2)(3,"button",3),l("click",function(){return t.cancel()}),h(4,"app-icon",4),d(),a(5,"h2",5),p(6),d(),a(7,"div",6),h(8,"app-theme-toggle"),b(9,ae,2,1,"button",7),a(10,"button",8),l("click",function(){return t.saveNote()}),b(11,ce,1,1,"app-icon",9)(12,de,1,1,"app-icon",10),d()()(),a(13,"form",11),l("submit",function(o){return o.preventDefault()}),a(14,"input",12),l("input",function(o){return t.title.set(o.target.value)}),d(),a(15,"div",13)(16,"select",14),l("change",function(o){return t.categoryId.set(o.target.value)}),b(17,le,2,0,"option",15)(18,ge,2,0),d()(),a(19,"textarea",16),l("input",function(o){return t.content.set(o.target.value)}),d(),a(20,"div",17)(21,"label"),p(22,"Tags"),d(),a(23,"div",18)(24,"div",19),k(25,me,4,1,"span",20,L),d(),a(27,"div",21)(28,"input",22),l("input",function(o){return t.tagInput.set(o.target.value)})("keyup.enter",function(o){return t.addTag(),o.preventDefault()}),d(),a(29,"button",23),l("click",function(){return t.addTag()}),p(30,"Add"),d()()()(),a(31,"div",17)(32,"label"),p(33,"Images"),d(),a(34,"div",24),k(35,_e,5,6,"div",25,S),a(37,"label",26)(38,"input",27),l("change",function(o){return t.onImageUpload(o)}),d(),h(39,"app-icon",28),a(40,"span"),p(41,"Add"),d()()()(),a(42,"div",17)(43,"label"),p(44,"Links"),d(),a(45,"div",29),k(46,ve,9,4,"div",30,S),b(48,he,9,3,"div",31)(49,be,4,1,"button",32),d()()()(),b(50,Ce,7,4,"div",33),h(51,"app-bottom-nav"),d()),e&2&&(c(4),g("size",20),c(2),y(t.isEditMode()?"Edit Note":"New Note"),c(3),f(t.isEditMode()?9:-1),c(),g("disabled",t.isSaving()),c(),f(t.isSaving()?11:12),c(3),g("value",t.title()),c(2),g("value",t.categoryId())("disabled",t.categories().length===0),c(),f(t.categories().length===0?17:18),c(2),g("value",t.content()),c(6),w(t.tags()),c(3),g("value",t.tagInput()),c(7),w(t.images()),c(4),g("size",20),c(7),w(t.links()),c(2),f(t.showLinkForm()?48:49),c(2),f(t.previewImageIndex()!==null?50:-1))},dependencies:[$,Q,Z,q,J,Y,G,ne,ie,te],styles:['.note-editor[_ngcontent-%COMP%]{min-height:100vh;background:var(--bg-primary);padding-bottom:env(safe-area-inset-bottom);transition:background-color .3s ease}.editor-container[_ngcontent-%COMP%]{max-width:100%;margin:0 auto;background:var(--bg-elevated);min-height:100vh;border:none;box-shadow:none}@media (min-width: 768px){.editor-container[_ngcontent-%COMP%]{max-width:800px;border-radius:var(--radius-lg);margin:2rem auto;box-shadow:var(--shadow-lg);min-height:calc(100vh - 4rem)}}@media (min-width: 1024px){.editor-container[_ngcontent-%COMP%]{max-width:900px}}.editor-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1rem;border-bottom:1px solid var(--border-color);background:var(--bg-elevated);position:sticky;top:0;z-index:10;backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);box-shadow:var(--shadow-sm);transition:background-color .3s ease,border-color .3s ease}.editor-header[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:12px;width:44px;height:44px;min-width:44px;min-height:44px;display:flex;align-items:center;justify-content:center;cursor:pointer;color:var(--text-primary);transition:all .2s cubic-bezier(.4,0,.2,1);flex-shrink:0;touch-action:manipulation;-webkit-tap-highlight-color:transparent}.editor-header[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]   app-icon[_ngcontent-%COMP%]{color:var(--text-primary);transition:transform .2s ease}.editor-header[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]:active{transform:scale(.92);background:var(--bg-hover)}.editor-header[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]:active   app-icon[_ngcontent-%COMP%]{transform:translate(-2px)}@media (max-width: 640px){.editor-header[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{width:48px;height:48px;min-width:48px;min-height:48px}}.editor-header[_ngcontent-%COMP%]   .editor-title[_ngcontent-%COMP%]{flex:1;margin:0;font-size:1.125rem;font-weight:600;color:var(--text-primary)}.editor-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center}.editor-header[_ngcontent-%COMP%]   .icon-btn[_ngcontent-%COMP%]{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:12px;width:44px;height:44px;min-width:44px;min-height:44px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s cubic-bezier(.4,0,.2,1);padding:0;touch-action:manipulation;-webkit-tap-highlight-color:transparent}.editor-header[_ngcontent-%COMP%]   .icon-btn[_ngcontent-%COMP%]   app-icon[_ngcontent-%COMP%]{color:var(--text-secondary);transition:color .2s ease}.editor-header[_ngcontent-%COMP%]   .icon-btn[_ngcontent-%COMP%]:active:not(:disabled){transform:scale(.92);background:var(--bg-hover)}.editor-header[_ngcontent-%COMP%]   .icon-btn.save-btn[_ngcontent-%COMP%]{background:var(--primary-color);color:var(--text-inverse);border-color:var(--primary-color);box-shadow:var(--shadow-sm)}.editor-header[_ngcontent-%COMP%]   .icon-btn.save-btn[_ngcontent-%COMP%]   app-icon[_ngcontent-%COMP%]{color:var(--text-inverse)}.editor-header[_ngcontent-%COMP%]   .icon-btn.save-btn[_ngcontent-%COMP%]:active:not(:disabled){background:var(--primary-hover);transform:scale(.92);box-shadow:var(--shadow-md)}.editor-header[_ngcontent-%COMP%]   .icon-btn.danger-btn[_ngcontent-%COMP%]{background:var(--error-color);color:var(--text-inverse);border-color:var(--error-color);box-shadow:var(--shadow-sm)}.editor-header[_ngcontent-%COMP%]   .icon-btn.danger-btn[_ngcontent-%COMP%]   app-icon[_ngcontent-%COMP%]{color:var(--text-inverse)}.editor-header[_ngcontent-%COMP%]   .icon-btn.danger-btn[_ngcontent-%COMP%]:active:not(:disabled){background:#dc2626;transform:scale(.92);box-shadow:var(--shadow-md)}.editor-header[_ngcontent-%COMP%]   .icon-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed;transform:none}@media (max-width: 640px){.editor-header[_ngcontent-%COMP%]   .icon-btn[_ngcontent-%COMP%]{width:48px;height:48px;min-width:48px;min-height:48px}}.editor-content[_ngcontent-%COMP%]{padding:1rem;padding-bottom:calc(1rem + env(safe-area-inset-bottom))}@media (max-width: 640px){.editor-content[_ngcontent-%COMP%]{padding:.75rem;padding-bottom:calc(.75rem + env(safe-area-inset-bottom) + 80px)}}@media (min-width: 768px){.editor-content[_ngcontent-%COMP%]{padding:2rem;max-width:100%}}.note-title-input[_ngcontent-%COMP%]{width:100%;border:none;outline:none;font-size:1.5rem;font-weight:600;color:var(--text-primary);margin-bottom:1rem;padding:.5rem 0;background:transparent}@media (max-width: 640px){.note-title-input[_ngcontent-%COMP%]{font-size:1.25rem;font-size:20px;padding:.375rem 0}}.note-title-input[_ngcontent-%COMP%]::placeholder{color:var(--text-tertiary)}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.form-select[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid var(--border-color);border-radius:var(--radius-sm);font-size:1rem;background:var(--bg-primary);color:var(--text-primary);cursor:pointer}@media (max-width: 640px){.form-select[_ngcontent-%COMP%]{font-size:16px;padding:.625rem}}.form-select[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px var(--primary-light)}.note-content-input[_ngcontent-%COMP%]{width:100%;border:1px solid var(--border-color);border-radius:var(--radius-sm);padding:1rem;font-size:1rem;line-height:1.6;color:var(--text-primary);resize:vertical;min-height:200px;margin-bottom:1.5rem;font-family:inherit;background:var(--bg-primary)}@media (max-width: 640px){.note-content-input[_ngcontent-%COMP%]{min-height:150px;padding:.75rem;font-size:16px}}.note-content-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px var(--primary-light)}.note-content-input[_ngcontent-%COMP%]::placeholder{color:var(--text-tertiary)}.form-section[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-section[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.75rem;font-weight:500;color:var(--text-primary);font-size:.875rem}.tags-container[_ngcontent-%COMP%]   .tags-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem;margin-bottom:.75rem}@media (max-width: 640px){.tags-container[_ngcontent-%COMP%]   .tags-list[_ngcontent-%COMP%]{gap:.375rem}}.tags-container[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;background:var(--primary-color);color:var(--text-inverse);padding:.5rem .75rem;border-radius:16px;font-size:.875rem;font-weight:500}@media (max-width: 640px){.tags-container[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{padding:.375rem .625rem;font-size:.8125rem}}.tags-container[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]   .tag-remove[_ngcontent-%COMP%]{background:none;border:none;color:var(--text-inverse);cursor:pointer;font-size:1.125rem;line-height:1;padding:0;width:18px;height:18px;display:flex;align-items:center;justify-content:center;border-radius:50%}.tags-container[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]   .tag-remove[_ngcontent-%COMP%]:active{background:#fff3}.tags-container[_ngcontent-%COMP%]   .tag-input-group[_ngcontent-%COMP%]{display:flex;gap:.5rem}@media (max-width: 640px){.tags-container[_ngcontent-%COMP%]   .tag-input-group[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}}.tags-container[_ngcontent-%COMP%]   .tag-input-group[_ngcontent-%COMP%]   .tag-input[_ngcontent-%COMP%]{flex:1;padding:.75rem;border:1px solid var(--border-color);border-radius:var(--radius-sm);font-size:1rem;background:var(--bg-primary);color:var(--text-primary)}@media (max-width: 640px){.tags-container[_ngcontent-%COMP%]   .tag-input-group[_ngcontent-%COMP%]   .tag-input[_ngcontent-%COMP%]{font-size:16px;padding:.625rem}}.tags-container[_ngcontent-%COMP%]   .tag-input-group[_ngcontent-%COMP%]   .tag-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px var(--primary-light)}.images-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.75rem}@media (max-width: 640px){.images-container[_ngcontent-%COMP%]{gap:.5rem}}.images-container[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]{position:relative;width:100px;height:100px;min-width:100px;min-height:100px;border-radius:var(--radius-sm);overflow:hidden;border:2px solid var(--border-color);background:var(--bg-secondary);flex-shrink:0}@media (max-width: 640px){.images-container[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]{width:88px;height:88px;min-width:88px;min-height:88px}}.images-container[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:opacity .2s ease;display:block}.images-container[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   img[src^="data:"][_ngcontent-%COMP%]{opacity:1!important;visibility:visible!important}.images-container[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   img.loaded[_ngcontent-%COMP%]{opacity:1;visibility:visible}.images-container[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   img.loading[_ngcontent-%COMP%]{opacity:0;visibility:hidden}.images-container[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:not(.loaded):not(.loading){opacity:1;visibility:visible}.images-container[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   .image-loading[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;background:var(--bg-secondary)}.images-container[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   .image-loading[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{width:24px;height:24px;border:3px solid var(--border-color);border-top-color:var(--primary-color);border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}.images-container[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   .image-remove[_ngcontent-%COMP%]{position:absolute;top:.5rem;right:.5rem;background:#000000b3;color:#fff;border:none;border-radius:50%;width:24px;height:24px;cursor:pointer;font-size:1rem;display:flex;align-items:center;justify-content:center;z-index:2}.images-container[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   .image-remove[_ngcontent-%COMP%]:active{background:#000000e6}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.images-container[_ngcontent-%COMP%]   .image-upload-btn[_ngcontent-%COMP%]{width:100px;height:100px;min-width:100px;min-height:100px;border:2px dashed var(--border-color);border-radius:var(--radius-sm);display:flex;flex-direction:column;align-items:center;justify-content:center;gap:.375rem;cursor:pointer;background:var(--bg-secondary);transition:all .2s cubic-bezier(.4,0,.2,1);touch-action:manipulation;-webkit-tap-highlight-color:transparent}@media (max-width: 640px){.images-container[_ngcontent-%COMP%]   .image-upload-btn[_ngcontent-%COMP%]{width:88px;height:88px;min-width:88px;min-height:88px}}.images-container[_ngcontent-%COMP%]   .image-upload-btn[_ngcontent-%COMP%]   app-icon[_ngcontent-%COMP%]{color:var(--text-secondary);transition:all .2s ease}.images-container[_ngcontent-%COMP%]   .image-upload-btn[_ngcontent-%COMP%]:active{border-color:var(--primary-color);background:var(--bg-hover);transform:scale(.95)}.images-container[_ngcontent-%COMP%]   .image-upload-btn[_ngcontent-%COMP%]:active   app-icon[_ngcontent-%COMP%]{color:var(--primary-color);transform:scale(1.1)}.images-container[_ngcontent-%COMP%]   .image-upload-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.75rem;font-weight:500;transition:color .2s ease}.images-container[_ngcontent-%COMP%]   .image-upload-btn[_ngcontent-%COMP%]:active   span[_ngcontent-%COMP%]{color:var(--primary-color)}.links-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}@media (max-width: 640px){.links-container[_ngcontent-%COMP%]{gap:.5rem}}.links-container[_ngcontent-%COMP%]   .link-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;padding:1rem;background:var(--bg-secondary);border-radius:var(--radius-sm);border:1px solid var(--border-color)}@media (max-width: 640px){.links-container[_ngcontent-%COMP%]   .link-item[_ngcontent-%COMP%]{padding:.75rem}}.links-container[_ngcontent-%COMP%]   .link-item[_ngcontent-%COMP%]   .link-content[_ngcontent-%COMP%]{flex:1;min-width:0}.links-container[_ngcontent-%COMP%]   .link-item[_ngcontent-%COMP%]   .link-content[_ngcontent-%COMP%]   .link-title[_ngcontent-%COMP%]{display:block;font-weight:600;color:var(--primary-color);text-decoration:none;margin-bottom:.25rem;font-size:.875rem;word-break:break-word}.links-container[_ngcontent-%COMP%]   .link-item[_ngcontent-%COMP%]   .link-content[_ngcontent-%COMP%]   .link-description[_ngcontent-%COMP%]{margin:.25rem 0;color:var(--text-secondary);font-size:.75rem;word-break:break-word}.links-container[_ngcontent-%COMP%]   .link-item[_ngcontent-%COMP%]   .link-content[_ngcontent-%COMP%]   .link-url[_ngcontent-%COMP%]{display:block;color:var(--text-tertiary);font-size:.7rem;word-break:break-all}.links-container[_ngcontent-%COMP%]   .link-item[_ngcontent-%COMP%]   .link-remove[_ngcontent-%COMP%]{background:none;border:none;color:var(--text-secondary);cursor:pointer;font-size:1.25rem;padding:.25rem;flex-shrink:0}.links-container[_ngcontent-%COMP%]   .link-item[_ngcontent-%COMP%]   .link-remove[_ngcontent-%COMP%]:active{color:var(--text-primary)}.links-container[_ngcontent-%COMP%]   .link-form[_ngcontent-%COMP%]{padding:1rem;background:var(--bg-secondary);border-radius:var(--radius-sm);border:1px solid var(--border-color);display:flex;flex-direction:column;gap:.75rem}@media (max-width: 640px){.links-container[_ngcontent-%COMP%]   .link-form[_ngcontent-%COMP%]{padding:.75rem;gap:.5rem}}.links-container[_ngcontent-%COMP%]   .link-form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{padding:.75rem;border:1px solid var(--border-color);border-radius:var(--radius-sm);font-size:1rem;background:var(--bg-primary);color:var(--text-primary)}@media (max-width: 640px){.links-container[_ngcontent-%COMP%]   .link-form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{font-size:16px;padding:.625rem}}.links-container[_ngcontent-%COMP%]   .link-form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px var(--primary-light)}.links-container[_ngcontent-%COMP%]   .link-form[_ngcontent-%COMP%]   .link-form-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem}@media (max-width: 640px){.links-container[_ngcontent-%COMP%]   .link-form[_ngcontent-%COMP%]   .link-form-actions[_ngcontent-%COMP%]{flex-direction:column}}.btn[_ngcontent-%COMP%]   app-icon[_ngcontent-%COMP%]{color:inherit}@media (max-width: 640px){.btn[_ngcontent-%COMP%]{min-height:48px;font-size:1rem}}.image-preview-modal[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000000f2;z-index:10000;display:flex;align-items:center;justify-content:center;padding:1rem;animation:_ngcontent-%COMP%_fadeIn .2s ease;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px)}.image-preview-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{position:relative;max-width:100%;max-height:100%;display:flex;align-items:center;justify-content:center;width:100%;height:100%}.image-preview-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .preview-image[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain;border-radius:var(--radius-sm);box-shadow:0 20px 60px #00000080}.image-preview-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-close[_ngcontent-%COMP%]{position:absolute;top:1rem;right:1rem;background:#fff3;border:none;border-radius:50%;width:44px;height:44px;display:flex;align-items:center;justify-content:center;cursor:pointer;z-index:10001;transition:all .2s ease;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px)}.image-preview-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-close[_ngcontent-%COMP%]   app-icon[_ngcontent-%COMP%]{color:#fff}.image-preview-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-close[_ngcontent-%COMP%]:hover{background:#ffffff4d;transform:scale(1.1)}.image-preview-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-close[_ngcontent-%COMP%]:active{transform:scale(.95)}@media (max-width: 640px){.image-preview-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-close[_ngcontent-%COMP%]{top:.5rem;right:.5rem;width:40px;height:40px}}.image-preview-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-nav[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);background:#fff3;border:none;border-radius:50%;width:48px;height:48px;display:flex;align-items:center;justify-content:center;cursor:pointer;z-index:10001;transition:all .2s ease;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px)}.image-preview-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-nav[_ngcontent-%COMP%]   app-icon[_ngcontent-%COMP%]{color:#fff}.image-preview-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-nav[_ngcontent-%COMP%]:hover:not(:disabled){background:#ffffff4d;transform:translateY(-50%) scale(1.1)}.image-preview-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-nav[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(-50%) scale(.95)}.image-preview-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-nav[_ngcontent-%COMP%]:disabled{opacity:.3;cursor:not-allowed}.image-preview-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-nav.modal-nav-prev[_ngcontent-%COMP%]{left:1rem}@media (max-width: 640px){.image-preview-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-nav.modal-nav-prev[_ngcontent-%COMP%]{left:.5rem;width:40px;height:40px}}.image-preview-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-nav.modal-nav-next[_ngcontent-%COMP%]{right:1rem}@media (max-width: 640px){.image-preview-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-nav.modal-nav-next[_ngcontent-%COMP%]{right:.5rem;width:40px;height:40px}}.image-preview-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .image-counter[_ngcontent-%COMP%]{position:absolute;bottom:1rem;left:50%;transform:translate(-50%);background:#000000b3;color:#fff;padding:.5rem 1rem;border-radius:20px;font-size:.875rem;font-weight:500;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px)}@media (max-width: 640px){.image-preview-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .image-counter[_ngcontent-%COMP%]{bottom:.5rem;padding:.375rem .75rem;font-size:.75rem}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}']})};export{oe as NoteEditor};
