import{a as Q}from"./chunk-VQKT22PK.js";import{a as he}from"./chunk-XTX7LAN4.js";import"./chunk-P3JHA5FY.js";import{a as se,b as le,c as de,d as ge,e as pe,f as me}from"./chunk-KNDRXFII.js";import{a as re}from"./chunk-OUQP6ZME.js";import{a as G,b as _e,c as ue,e as Ce}from"./chunk-MEUCEX3B.js";import{$a as W,Aa as h,Bb as ae,Ga as f,Hb as L,Ia as m,Ib as ce,K as J,Ka as l,La as H,Ma as N,O,Oa as d,Pa as z,Qa as T,R as g,Ra as ne,S as p,Z as u,Za as ie,_a as A,a as P,aa as ee,ab as X,b as k,ba as U,c as D,ca as s,gb as Z,ia as K,ib as oe,kb as R,ob as V,ra as x,sa as b,ta as B,ua as te,va as S,wa as E,xa as _,ya as o,za as c}from"./chunk-JSIDNEE5.js";var j=class r{authService=O(V);apiKey=u("");API_URL="https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent";GEMINI_API_STUDIO_URL="https://makersuite.google.com/app/apikey";requestCount=0;lastResetTime=Date.now();MAX_REQUESTS_PER_MINUTE=60;MAX_REQUESTS_PER_DAY=1500;setApiKey(t){this.apiKey.set(t);let e=this.authService.currentUser()?.email,i=e?`gemini_api_key_${e.replace(/[^a-zA-Z0-9]/g,"_")}`:"gemini_api_key";localStorage.setItem(i,t)}loadApiKey(){let t=this.authService.currentUser()?.email;if(t){let i=`gemini_api_key_${t.replace(/[^a-zA-Z0-9]/g,"_")}`,n=localStorage.getItem(i);if(n)return this.apiKey.set(n),n}let e=localStorage.getItem("gemini_api_key");return e?(this.apiKey.set(e),e):null}openGeminiApiStudio(){window.open(this.GEMINI_API_STUDIO_URL,"_blank","noopener,noreferrer")}isGoogleSignedIn(){return this.authService.isSignedIn()}getUserEmail(){return this.authService.currentUser()?.email||null}isConfigured(){return this.apiKey().length>0}checkRateLimit(){let t=Date.now();return t-this.lastResetTime>1440*60*1e3&&(this.requestCount=0,this.lastResetTime=t),!(this.requestCount>=this.MAX_REQUESTS_PER_DAY)}buildPrompt(t,e,i){let n=i?`Title: ${i}

Content: ${e}`:e;switch(t){case"improve-grammar":return`Please improve the grammar, spelling, and punctuation of the following text while keeping the meaning and style intact:

${n}`;case"summarize":return`Please provide a concise summary of the following text:

${n}`;case"expand":return`Please expand the following text with more details, examples, and explanations while maintaining the original meaning:

${n}`;case"simplify":return`Please simplify the following text to make it easier to understand, using simpler words and shorter sentences:

${n}`;case"suggest-title":return`Based on the following content, suggest a concise and descriptive title:

${n}

Respond with only the title, nothing else.`;case"suggest-tags":return`Based on the following content, suggest 3-5 relevant tags (keywords). Return only a comma-separated list of tags:

${n}`;case"improve-clarity":return`Please improve the clarity and readability of the following text, making it more organized and easier to understand:

${n}`;case"extract-key-points":return`Extract the key points from the following text and present them as a bulleted list:

${n}`;default:return`Please optimize the following text:

${n}`}}callGeminiAPI(t){return D(this,null,function*(){if(!this.checkRateLimit())throw new Error("Daily rate limit reached. Please try again tomorrow.");let e=this.apiKey();if(!e)throw this.authService.isSignedIn()?new Error("API key required. Please set up your Google Gemini API key in the settings."):new Error("Please sign in with Google and set up an API key, or set up an API key manually.");return this.callGeminiAPIWithKey(t,e)})}callGeminiAPIWithKey(t,e){return D(this,null,function*(){let i=yield fetch(this.API_URL,{method:"POST",headers:{"Content-Type":"application/json","X-goog-api-key":e},body:JSON.stringify({contents:[{parts:[{text:t}]}]})});if(!i.ok){let C=yield i.json().catch(()=>({}));throw new Error(C.error?.message||`API request failed: ${i.statusText}`)}let n=yield i.json();this.requestCount++;let a=n.candidates?.[0]?.content?.parts?.[0]?.text;if(!a)throw new Error("No response text received from API");return a.trim()})}optimize(t,e,i){return D(this,null,function*(){if(!e.trim())throw new Error("Content is required for optimization");let n=this.buildPrompt(t,e,i),a=yield this.callGeminiAPI(n);switch(t){case"suggest-title":return{content:e,title:a};case"suggest-tags":let C=a.split(",").map(v=>v.trim()).filter(v=>v.length>0);return{content:e,tags:C};case"extract-key-points":return{content:a,suggestions:a.split(`
`).filter(v=>v.trim().length>0)};default:return{content:a}}})}getRemainingRequests(){return Math.max(0,this.MAX_REQUESTS_PER_DAY-this.requestCount)}static \u0275fac=function(e){return new(e||r)};static \u0275prov=J({token:r,factory:r.\u0275fac,providedIn:"root"})};var Pe=(r,t)=>t.type;function Me(r,t){r&1&&(h(0,"app-icon",5),o(1,"span"),d(2,"Processing..."),c()),r&2&&_("size",18)}function Oe(r,t){r&1&&(h(0,"app-icon",6),o(1,"span"),d(2,"AI Optimize"),c()),r&2&&_("size",18)}function we(r,t){if(r&1){let e=f();o(0,"div",7),m("click",function(){g(e);let n=l();return p(n.closeDropdown())}),c()}}function ye(r,t){if(r&1){let e=f();o(0,"button",15),m("click",function(){let n=g(e).$implicit,a=l(2);return p(a.optimize(n.type))}),h(1,"app-icon",16),o(2,"div",17)(3,"span",18),d(4),c(),o(5,"span",19),d(6),c()()()}if(r&2){let e=t.$implicit,i=l(2);_("disabled",i.isProcessing()),s(),_("name",e.icon)("size",20),s(3),z(e.label),s(2),z(e.description)}}function ke(r,t){if(r&1){let e=f();o(0,"div",3)(1,"div",8)(2,"h3"),d(3,"Optimize Note"),c(),o(4,"button",9),m("click",function(){g(e);let n=l();return p(n.closeDropdown())}),h(5,"app-icon",10),c()(),o(6,"div",11),m("scroll",function(){g(e);let n=l();return p(n.checkScrollPosition())}),S(7,ye,7,5,"button",12,Pe),c(),o(9,"div",13)(10,"span",14),d(11),c()()()}if(r&2){let e=l();s(5),_("size",16),s(2),E(e.optimizationOptions),s(4),T(" ~",e.getRemainingRequests()," requests remaining today ")}}function ze(r,t){if(r&1){let e=f();o(0,"div",28),h(1,"app-icon",29),o(2,"span"),d(3),c()(),o(4,"p",30),d(5," Great! Since you're signed in with Google, we can make setup super easy. "),c(),o(6,"div",31)(7,"button",32),m("click",function(){g(e);let n=l(2);return p(n.openGeminiStudio())}),h(8,"app-icon",33),o(9,"span"),d(10,"Open Google AI Studio"),c()(),o(11,"p",34),d(12,` This will open Google AI Studio in a new tab. You're already signed in, so just click "Create API Key" and copy it here. `),c()(),o(13,"ol",35)(14,"li"),d(15,"Click the button above to open Google AI Studio"),c(),o(16,"li"),d(17,`Click "Create API Key" (you're already signed in!)`),c(),o(18,"li"),d(19,"Copy your API key and paste it below"),c()(),o(20,"div",36)(21,"label",37),d(22,"API Key"),c(),o(23,"input",38),m("input",function(n){g(e);let a=l(2);return p(a.apiKeyInput.set(n.target.value))})("keyup.enter",function(){g(e);let n=l(2);return p(n.saveApiKey())}),c()()}if(r&2){let e=l(2);s(),_("size",20),s(2),T("Signed in as ",e.getUserEmail()),s(5),_("size",18),s(15),_("value",e.apiKeyInput())}}function Ie(r,t){if(r&1){let e=f();o(0,"p",30),d(1," To use AI optimization, you need to either sign in with Google (recommended) or set up an API key. "),c(),o(2,"div",39)(3,"div",40)(4,"h5"),d(5,"Option 1: Sign in with Google (Recommended)"),c(),o(6,"p",19),d(7," Sign in with Google and AI optimization works automatically - no setup needed! "),c(),o(8,"button",27),m("click",function(){g(e);let n=l(2);return p(n.goToLogin())}),d(9," Sign In with Google "),c()(),o(10,"div",41)(11,"span"),d(12,"OR"),c()(),o(13,"div",40)(14,"h5"),d(15,"Option 2: Use API Key"),c(),o(16,"p",19),d(17," Set up a free Google Gemini API key manually. "),c()()(),o(18,"ol",35)(19,"li"),d(20,"Visit "),o(21,"a",42),d(22,"Google AI Studio"),c()(),o(23,"li"),d(24,"Sign in with your Google account"),c(),o(25,"li"),d(26,'Click "Create API Key"'),c(),o(27,"li"),d(28,"Copy your API key and paste it below"),c()(),o(29,"div",36)(30,"label",43),d(31,"API Key"),c(),o(32,"input",44),m("input",function(n){g(e);let a=l(2);return p(a.apiKeyInput.set(n.target.value))})("keyup.enter",function(){g(e);let n=l(2);return p(n.saveApiKey())}),c()()}if(r&2){let e=l(2);s(32),_("value",e.apiKeyInput())}}function Se(r,t){if(r&1){let e=f();o(0,"div",20),m("click",function(){g(e);let n=l();return p(n.cancelApiKeyDialog())}),o(1,"div",21),m("click",function(n){return g(e),p(n.stopPropagation())}),o(2,"div",22)(3,"h3"),d(4,"Setup AI Optimization"),c(),o(5,"button",9),m("click",function(){g(e);let n=l();return p(n.cancelApiKeyDialog())}),h(6,"app-icon",10),c()(),o(7,"div",23),x(8,ze,24,4)(9,Ie,33,1),o(10,"p",24)(11,"strong"),d(12,"Note:"),c(),d(13," Your API key is stored locally in your browser and never sent to our servers. Free tier includes 60 requests/minute and 1,500 requests/day. "),c()(),o(14,"div",25)(15,"button",26),m("click",function(){g(e);let n=l();return p(n.cancelApiKeyDialog())}),d(16," Cancel "),c(),o(17,"button",27),m("click",function(){g(e);let n=l();return p(n.saveApiKey())}),d(18," Save & Continue "),c()()()()}if(r&2){let e=l();s(6),_("size",20),s(2),b(e.isGoogleSignedIn()?8:9)}}var $=class r{aiService=O(j);authService=O(V);router=O(R);content=X.required();title=X("");optimized=W();error=W();isOpen=u(!1);isProcessing=u(!1);currentOptimization=u(null);showApiKeyDialog=u(!1);apiKeyInput=u("");canScrollTop=u(!1);canScrollBottom=u(!1);optimizationOptions=[{type:"improve-grammar",label:"Improve Grammar",icon:"edit",description:"Fix grammar, spelling, and punctuation"},{type:"summarize",label:"Summarize",icon:"compress",description:"Create a concise summary"},{type:"expand",label:"Expand",icon:"expand",description:"Add more details and examples"},{type:"simplify",label:"Simplify",icon:"simplify",description:"Make it easier to understand"},{type:"suggest-title",label:"Suggest Title",icon:"title",description:"Generate a better title"},{type:"suggest-tags",label:"Suggest Tags",icon:"tag",description:"Generate relevant tags"},{type:"improve-clarity",label:"Improve Clarity",icon:"eye",description:"Make it clearer and more organized"},{type:"extract-key-points",label:"Extract Key Points",icon:"list",description:"Get main points as bullets"}];constructor(){A(()=>{this.authService.isSignedIn()&&this.aiService.loadApiKey()})}ngOnInit(){this.aiService.loadApiKey(),this.aiService.isConfigured()||this.showApiKeyDialog.set(!0)}toggleDropdown(){if(!this.aiService.isConfigured()){this.showApiKeyDialog.set(!0);return}this.isOpen.update(t=>!t),this.isOpen()?(document.body.style.overflow="hidden",setTimeout(()=>this.checkScrollPosition(),100)):document.body.style.overflow=""}closeDropdown(){this.isOpen.set(!1),document.body.style.overflow=""}checkScrollPosition(){let t=document.querySelector(".options-list");if(!t)return;let e=t.scrollHeight>t.clientHeight,i=t.scrollTop<=5,n=t.scrollTop+t.clientHeight>=t.scrollHeight-5;this.canScrollTop.set(e&&!i),this.canScrollBottom.set(e&&!n),t.classList.toggle("scrollable-top",e&&!i),t.classList.toggle("scrollable-bottom",e&&!n)}optimize(t){return D(this,null,function*(){if(!this.content().trim()){this.error.emit("Please add some content to optimize");return}if(!this.aiService.isConfigured()){this.showApiKeyDialog.set(!0);return}this.isProcessing.set(!0),this.currentOptimization.set(t),this.isOpen.set(!1);try{let e=yield this.aiService.optimize(t,this.content(),this.title());this.optimized.emit(e)}catch(e){this.error.emit(e.message||"Failed to optimize. Please try again.")}finally{this.isProcessing.set(!1),this.currentOptimization.set(null)}})}saveApiKey(){let t=this.apiKeyInput().trim();if(!t){this.error.emit("Please enter a valid API key");return}this.aiService.setApiKey(t),this.showApiKeyDialog.set(!1),this.apiKeyInput.set("")}cancelApiKeyDialog(){this.showApiKeyDialog.set(!1),this.apiKeyInput.set("")}openApiKeyDialog(){this.showApiKeyDialog.set(!0)}openGeminiStudio(){this.aiService.openGeminiApiStudio()}isGoogleSignedIn(){return this.aiService.isGoogleSignedIn()}getUserEmail(){return this.aiService.getUserEmail()}goToLogin(){this.cancelApiKeyDialog(),this.router.navigate(["/login"])}getRemainingRequests(){return this.aiService.getRemainingRequests()}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=K({type:r,selectors:[["app-ai-optimization-dropdown"]],inputs:{content:[1,"content"],title:[1,"title"]},outputs:{optimized:"optimized",error:"error"},decls:7,vars:7,consts:[[1,"ai-optimization-dropdown"],["aria-label","AI Optimization","title","AI Optimization",1,"ai-optimize-btn",3,"click","disabled"],[1,"dropdown-overlay"],[1,"dropdown-menu"],[1,"api-key-dialog-overlay"],["name","sync-loading",3,"size"],["name","sparkles",3,"size"],[1,"dropdown-overlay",3,"click"],[1,"dropdown-header"],["aria-label","Close",1,"close-btn",3,"click"],["name","close",3,"size"],[1,"options-list",3,"scroll"],[1,"option-item",3,"disabled"],[1,"dropdown-footer"],[1,"remaining-requests"],[1,"option-item",3,"click","disabled"],[3,"name","size"],[1,"option-content"],[1,"option-label"],[1,"option-description"],[1,"api-key-dialog-overlay",3,"click"],[1,"api-key-dialog",3,"click"],[1,"dialog-header"],[1,"dialog-content"],[1,"note-text"],[1,"dialog-actions"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-primary",3,"click"],[1,"google-signin-badge"],["name","profile",3,"size"],[1,"info-text"],[1,"quick-setup"],[1,"btn","btn-primary","quick-setup-btn",3,"click"],["name","add",3,"size"],[1,"quick-setup-note"],[1,"setup-steps"],[1,"input-group"],["for","api-key-input"],["id","api-key-input","type","password","placeholder","Enter your Gemini API key",1,"api-key-input",3,"input","keyup.enter","value"],[1,"signin-priority"],[1,"signin-option"],[1,"divider"],["href","https://makersuite.google.com/app/apikey","target","_blank","rel","noopener"],["for","api-key-input-manual"],["id","api-key-input-manual","type","password","placeholder","Enter your Gemini API key",1,"api-key-input",3,"input","keyup.enter","value"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"button",1),m("click",function(){return i.toggleDropdown()}),x(2,Me,3,1)(3,Oe,3,1),c(),x(4,we,1,0,"div",2),x(5,ke,12,2,"div",3),x(6,Se,19,2,"div",4),c()),e&2&&(s(),N("processing",i.isProcessing()),_("disabled",i.isProcessing()),s(),b(i.isProcessing()?2:3),s(2),b(i.isOpen()?4:-1),s(),b(i.isOpen()?5:-1),s(),b(i.showApiKeyDialog()?6:-1))},dependencies:[Z,G],styles:['.ai-optimization-dropdown[_ngcontent-%COMP%]{position:relative;display:inline-block}.ai-optimize-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.625rem 1rem;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:8px;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s ease;box-shadow:0 2px 8px #667eea4d}.ai-optimize-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-1px);box-shadow:0 4px 12px #667eea66}.ai-optimize-btn[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.ai-optimize-btn.processing[_ngcontent-%COMP%]{opacity:.7;cursor:not-allowed}.ai-optimize-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.ai-optimize-btn[_ngcontent-%COMP%]   app-icon[_ngcontent-%COMP%]{color:#fff}@media (max-width: 640px){.ai-optimize-btn[_ngcontent-%COMP%]{padding:.5rem .75rem;font-size:.8125rem;gap:.375rem}}.dropdown-menu[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:var(--bg-elevated);border:1px solid var(--border-color);border-radius:16px;box-shadow:0 20px 60px #0000004d;width:90%;max-width:420px;max-height:85vh;z-index:10000;animation:_ngcontent-%COMP%_slideUp .2s ease;overflow:hidden;display:flex;flex-direction:column}@media (min-width: 768px){.dropdown-menu[_ngcontent-%COMP%]{position:absolute;top:auto;bottom:calc(100% + .5rem);left:auto;right:0;transform:none;width:auto;min-width:320px;max-width:380px;max-height:70vh;animation:_ngcontent-%COMP%_slideDown .2s ease}}@media (max-width: 640px){.dropdown-menu[_ngcontent-%COMP%]{width:calc(100vw - 2rem);max-width:calc(100vw - 2rem)}}.dropdown-menu[_ngcontent-%COMP%]   .dropdown-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1rem;border-bottom:1px solid var(--border-color)}.dropdown-menu[_ngcontent-%COMP%]   .dropdown-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1rem;font-weight:600;color:var(--text-primary)}.dropdown-menu[_ngcontent-%COMP%]   .dropdown-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;padding:.25rem;cursor:pointer;color:var(--text-secondary);display:flex;align-items:center;justify-content:center;border-radius:4px;transition:all .2s ease}.dropdown-menu[_ngcontent-%COMP%]   .dropdown-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:var(--bg-hover);color:var(--text-primary)}.dropdown-menu[_ngcontent-%COMP%]   .options-list[_ngcontent-%COMP%]{flex:1;overflow-y:auto;overflow-x:hidden;padding:.5rem;min-height:0;position:relative}.dropdown-menu[_ngcontent-%COMP%]   .options-list[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.dropdown-menu[_ngcontent-%COMP%]   .options-list[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--bg-secondary);border-radius:4px;margin:.5rem 0}.dropdown-menu[_ngcontent-%COMP%]   .options-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--border-color);border-radius:4px;transition:background .2s ease}.dropdown-menu[_ngcontent-%COMP%]   .options-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--primary-color)}.dropdown-menu[_ngcontent-%COMP%]   .options-list[_ngcontent-%COMP%]:before{content:"";position:sticky;top:0;left:0;right:0;height:10px;background:linear-gradient(to bottom,var(--bg-elevated),transparent);pointer-events:none;z-index:1;opacity:0;transition:opacity .2s ease}.dropdown-menu[_ngcontent-%COMP%]   .options-list[_ngcontent-%COMP%]:after{content:"";position:sticky;bottom:0;left:0;right:0;height:10px;background:linear-gradient(to top,var(--bg-elevated),transparent);pointer-events:none;z-index:1;opacity:0;transition:opacity .2s ease}.dropdown-menu[_ngcontent-%COMP%]   .options-list.scrollable-top[_ngcontent-%COMP%]:before{opacity:1}.dropdown-menu[_ngcontent-%COMP%]   .options-list.scrollable-bottom[_ngcontent-%COMP%]:after{opacity:1}.dropdown-menu[_ngcontent-%COMP%]   .options-list[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]{width:100%;display:flex;align-items:flex-start;gap:.75rem;padding:.875rem;background:transparent;border:none;border-radius:10px;cursor:pointer;transition:all .2s ease;text-align:left;color:var(--text-primary);margin-bottom:.25rem}.dropdown-menu[_ngcontent-%COMP%]   .options-list[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--bg-hover);transform:translate(2px)}.dropdown-menu[_ngcontent-%COMP%]   .options-list[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]:active:not(:disabled){transform:translate(2px) scale(.98)}.dropdown-menu[_ngcontent-%COMP%]   .options-list[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.dropdown-menu[_ngcontent-%COMP%]   .options-list[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]   app-icon[_ngcontent-%COMP%]{color:var(--primary-color);flex-shrink:0;margin-top:2px}.dropdown-menu[_ngcontent-%COMP%]   .options-list[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]   .option-content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:.25rem;min-width:0}.dropdown-menu[_ngcontent-%COMP%]   .options-list[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]   .option-content[_ngcontent-%COMP%]   .option-label[_ngcontent-%COMP%]{font-weight:600;font-size:.9375rem;color:var(--text-primary);line-height:1.3}.dropdown-menu[_ngcontent-%COMP%]   .options-list[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]   .option-content[_ngcontent-%COMP%]   .option-description[_ngcontent-%COMP%]{font-size:.8125rem;color:var(--text-secondary);line-height:1.4}.dropdown-menu[_ngcontent-%COMP%]   .dropdown-footer[_ngcontent-%COMP%]{padding:.75rem 1rem;border-top:1px solid var(--border-color);background:var(--bg-secondary);flex-shrink:0}.dropdown-menu[_ngcontent-%COMP%]   .dropdown-footer[_ngcontent-%COMP%]   .remaining-requests[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-tertiary);text-align:center;display:block}.dropdown-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);z-index:9999;animation:_ngcontent-%COMP%_fadeIn .2s ease}@media (min-width: 768px){.dropdown-overlay[_ngcontent-%COMP%]{display:none}}.api-key-dialog-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#0009;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);z-index:10000;display:flex;align-items:center;justify-content:center;padding:1rem;animation:_ngcontent-%COMP%_fadeIn .2s ease}.api-key-dialog[_ngcontent-%COMP%]{background:var(--bg-elevated);border-radius:16px;max-width:500px;width:100%;max-height:90vh;overflow-y:auto;box-shadow:0 20px 60px #0000004d;animation:_ngcontent-%COMP%_slideUp .2s ease}.api-key-dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1.5rem;border-bottom:1px solid var(--border-color)}.api-key-dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;font-weight:600;color:var(--text-primary)}.api-key-dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;padding:.5rem;cursor:pointer;color:var(--text-secondary);display:flex;align-items:center;justify-content:center;border-radius:8px;transition:all .2s ease}.api-key-dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:var(--bg-hover);color:var(--text-primary)}.api-key-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]{padding:1.5rem}.api-key-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .google-signin-badge[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.75rem 1rem;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:8px;margin-bottom:1rem;color:var(--text-primary);font-size:.875rem}.api-key-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .google-signin-badge[_ngcontent-%COMP%]   app-icon[_ngcontent-%COMP%]{color:var(--primary-color)}.api-key-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .info-text[_ngcontent-%COMP%]{margin:0 0 1rem;color:var(--text-primary);line-height:1.6}.api-key-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .quick-setup[_ngcontent-%COMP%]{margin:1.5rem 0;padding:1rem;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:8px}.api-key-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .quick-setup[_ngcontent-%COMP%]   .quick-setup-btn[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;gap:.5rem;padding:.875rem 1.5rem;background:var(--primary-color);color:#fff;border:none;border-radius:8px;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s ease}.api-key-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .quick-setup[_ngcontent-%COMP%]   .quick-setup-btn[_ngcontent-%COMP%]:hover{background:var(--primary-hover);transform:translateY(-1px);box-shadow:0 4px 12px #00000026}.api-key-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .quick-setup[_ngcontent-%COMP%]   .quick-setup-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.api-key-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .quick-setup[_ngcontent-%COMP%]   .quick-setup-btn[_ngcontent-%COMP%]   app-icon[_ngcontent-%COMP%]{color:#fff}.api-key-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .quick-setup[_ngcontent-%COMP%]   .quick-setup-note[_ngcontent-%COMP%]{margin:.75rem 0 0;font-size:.8125rem;color:var(--text-secondary);line-height:1.5;text-align:center}.api-key-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .auto-setup-success[_ngcontent-%COMP%]{text-align:center;padding:1.5rem 1rem;margin-bottom:1rem}.api-key-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .auto-setup-success[_ngcontent-%COMP%]   .success-icon[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:1rem}.api-key-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .auto-setup-success[_ngcontent-%COMP%]   .success-icon[_ngcontent-%COMP%]   app-icon[_ngcontent-%COMP%]{color:var(--primary-color);background:#667eea1a;padding:1rem;border-radius:50%}.api-key-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .auto-setup-success[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .75rem;font-size:1.125rem;font-weight:600;color:var(--text-primary)}.api-key-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .auto-setup-success[_ngcontent-%COMP%]   .info-text[_ngcontent-%COMP%]{margin:0 0 1rem;color:var(--text-secondary);line-height:1.6}.api-key-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .auto-setup-success[_ngcontent-%COMP%]   .google-signin-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.5rem 1rem;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:8px;color:var(--text-primary);font-size:.875rem}.api-key-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .auto-setup-success[_ngcontent-%COMP%]   .google-signin-badge[_ngcontent-%COMP%]   app-icon[_ngcontent-%COMP%]{color:var(--primary-color)}.api-key-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .optional-api-key-section[_ngcontent-%COMP%]{margin-top:1.5rem;padding-top:1.5rem;border-top:1px solid var(--border-color)}.api-key-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .optional-api-key-section[_ngcontent-%COMP%]   .optional-section[_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]{cursor:pointer;padding:.75rem;background:var(--bg-secondary);border-radius:8px;font-size:.875rem;color:var(--text-secondary);-webkit-user-select:none;user-select:none;transition:all .2s ease}.api-key-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .optional-api-key-section[_ngcontent-%COMP%]   .optional-section[_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]:hover{background:var(--bg-hover);color:var(--text-primary)}.api-key-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .optional-api-key-section[_ngcontent-%COMP%]   .optional-section[_ngcontent-%COMP%]   .optional-content[_ngcontent-%COMP%]{padding:1rem 0}.api-key-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .optional-api-key-section[_ngcontent-%COMP%]   .optional-section[_ngcontent-%COMP%]   .optional-content[_ngcontent-%COMP%]   .info-text-small[_ngcontent-%COMP%]{margin:0 0 1rem;font-size:.8125rem;color:var(--text-secondary);line-height:1.5}.api-key-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .signin-priority[_ngcontent-%COMP%]{margin:1.5rem 0;display:flex;flex-direction:column;gap:1rem}.api-key-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .signin-priority[_ngcontent-%COMP%]   .signin-option[_ngcontent-%COMP%]{padding:1rem;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:8px}.api-key-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .signin-priority[_ngcontent-%COMP%]   .signin-option[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:.9375rem;font-weight:600;color:var(--text-primary)}.api-key-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .signin-priority[_ngcontent-%COMP%]   .signin-option[_ngcontent-%COMP%]   .option-description[_ngcontent-%COMP%]{margin:0 0 .75rem;font-size:.8125rem;color:var(--text-secondary);line-height:1.5}.api-key-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .signin-priority[_ngcontent-%COMP%]   .signin-option[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%}.api-key-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .signin-priority[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{display:flex;align-items:center;text-align:center;margin:.5rem 0}.api-key-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .signin-priority[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]:before, .api-key-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .signin-priority[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]:after{content:"";flex:1;border-bottom:1px solid var(--border-color)}.api-key-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .signin-priority[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:0 1rem;font-size:.75rem;color:var(--text-tertiary);font-weight:500}.api-key-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .signin-suggestion[_ngcontent-%COMP%]{margin:1rem 0;padding:.75rem 1rem;background:#667eea1a;border:1px solid rgba(102,126,234,.2);border-radius:8px}.api-key-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .signin-suggestion[_ngcontent-%COMP%]   .suggestion-text[_ngcontent-%COMP%]{margin:0;font-size:.875rem;color:var(--text-primary);line-height:1.5}.api-key-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .signin-suggestion[_ngcontent-%COMP%]   .suggestion-text[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--primary-color)}.api-key-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .setup-steps[_ngcontent-%COMP%]{margin:1rem 0;padding-left:1.5rem;color:var(--text-primary);line-height:1.8}.api-key-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .setup-steps[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:.5rem 0}.api-key-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .setup-steps[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--primary-color);text-decoration:none}.api-key-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .setup-steps[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.api-key-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{margin:1.5rem 0}.api-key-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:500;color:var(--text-primary);font-size:.875rem}.api-key-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .api-key-input[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid var(--border-color);border-radius:8px;font-size:1rem;background:var(--bg-primary);color:var(--text-primary);font-family:monospace}.api-key-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .api-key-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px var(--primary-light)}.api-key-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .note-text[_ngcontent-%COMP%]{margin:1rem 0 0;font-size:.875rem;color:var(--text-secondary);line-height:1.6}.api-key-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .note-text[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--text-primary)}.api-key-dialog[_ngcontent-%COMP%]   .dialog-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem;padding:1.5rem;border-top:1px solid var(--border-color);justify-content:flex-end}@media (max-width: 640px){.api-key-dialog[_ngcontent-%COMP%]   .dialog-actions[_ngcontent-%COMP%]{flex-direction:column-reverse}}.api-key-dialog[_ngcontent-%COMP%]   .dialog-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:8px;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s ease;border:none}.api-key-dialog[_ngcontent-%COMP%]   .dialog-actions[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]{background:var(--primary-color);color:#fff}.api-key-dialog[_ngcontent-%COMP%]   .dialog-actions[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:hover{background:var(--primary-hover)}.api-key-dialog[_ngcontent-%COMP%]   .dialog-actions[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]{background:var(--bg-secondary);color:var(--text-primary);border:1px solid var(--border-color)}.api-key-dialog[_ngcontent-%COMP%]   .dialog-actions[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]:hover{background:var(--bg-hover)}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translate(-50%,-45%)}to{opacity:1;transform:translate(-50%,-50%)}}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}']})};var Ee=(r,t)=>t.id;function Te(r,t){if(r&1){let e=f();o(0,"button",43),m("click",function(){g(e);let n=l();return p(n.deleteNote())}),h(1,"app-icon",44),c()}r&2&&(s(),_("size",20))}function De(r,t){r&1&&h(0,"app-icon",9),r&2&&_("size",20)}function Ne(r,t){r&1&&h(0,"app-icon",10),r&2&&_("size",20)}function Ae(r,t){r&1&&(o(0,"option",16),d(1,"Loading categories..."),c())}function Ve(r,t){if(r&1&&(o(0,"option",45),d(1),c()),r&2){let e=t.$implicit;_("value",e.id),s(),z(e.name)}}function Le(r,t){if(r&1&&S(0,Ve,2,2,"option",45,Ee),r&2){let e=l();E(e.categories())}}function Ue(r,t){if(r&1&&h(0,"div",23),r&2){let e=l();_("innerHTML",e.renderedMarkdown(),ee)}}function Ke(r,t){if(r&1){let e=f();o(0,"textarea",46),m("input",function(n){g(e);let a=l();return p(a.content.set(n.target.value))}),c()}if(r&2){let e=l();_("value",e.content())}}function Ze(r,t){if(r&1){let e=f();o(0,"span",29),d(1),o(2,"button",47),m("click",function(){let n=g(e).$implicit,a=l();return p(a.removeTag(n))}),d(3,"\xD7"),c()()}if(r&2){let e=t.$implicit;s(),T(" ",e," ")}}function Re(r,t){r&1&&d(0," Uploading... ")}function Ge(r,t){r&1&&d(0," Loading... ")}function je(r,t){if(r&1&&(o(0,"div",50),h(1,"div",52),o(2,"span",53),x(3,Re,1,0)(4,Ge,1,0),c()()),r&2){let e=l().$index,i=l();s(3),b(i.imageUploading()[e]===!0?3:4)}}function $e(r,t){if(r&1){let e=f();o(0,"div",48)(1,"img",49),m("load",function(n){g(e);let a=l();return p(a.onImageLoad(n))})("error",function(n){g(e);let a=l();return p(a.onImageError(n))})("click",function(){let n=g(e).$index,a=l();return p(a.openImagePreview(n))}),c(),x(2,je,5,1,"div",50),o(3,"button",51),m("click",function(n){let a=g(e).$index;return l().removeImage(a),p(n.stopPropagation())}),d(4,"\xD7"),c()()}if(r&2){let e=t.$implicit,i=t.$index,n=l();N("uploading",n.imageUploading()[i]===!0),s(),N("loaded",n.imageLoaded()[i]===!0&&n.imageUploading()[i]!==!0)("loading",n.imageLoaded()[i]!==!0||n.imageUploading()[i]===!0),_("src",e,U),s(),b(n.imageUploading()[i]===!0||n.imageLoaded()[i]!==!0&&n.imageUploading()[i]!==!0?2:-1)}}function Fe(r,t){if(r&1&&(o(0,"p",56),d(1),c()),r&2){let e=l().$implicit;s(),z(e.description)}}function qe(r,t){if(r&1){let e=f();o(0,"div",39)(1,"div",54)(2,"a",55),d(3),c(),x(4,Fe,2,1,"p",56),o(5,"span",57),d(6),c()(),o(7,"button",58),m("click",function(){let n=g(e).$index,a=l();return p(a.removeLink(n))}),d(8,"\xD7"),c()()}if(r&2){let e=t.$implicit;s(2),_("href",e.url,U),s(),T(" ",e.title," "),s(),b(e.description?4:-1),s(2),z(e.url)}}function Ye(r,t){if(r&1){let e=f();o(0,"div",40)(1,"input",59),m("input",function(n){g(e);let a=l();return p(a.linkUrl.set(n.target.value))}),c(),o(2,"input",60),m("input",function(n){g(e);let a=l();return p(a.linkTitle.set(n.target.value))}),c(),o(3,"input",61),m("input",function(n){g(e);let a=l();return p(a.linkDescription.set(n.target.value))}),c(),o(4,"div",62)(5,"button",63),m("click",function(){g(e);let n=l();return p(n.addLink())}),d(6,"Add"),c(),o(7,"button",64),m("click",function(){g(e);let n=l();return p(n.showLinkForm.set(!1))}),d(8,"Cancel"),c()()()}if(r&2){let e=l();s(),_("value",e.linkUrl()),s(),_("value",e.linkTitle()),s(),_("value",e.linkDescription())}}function Be(r,t){if(r&1){let e=f();o(0,"button",64),m("click",function(){g(e);let n=l();return p(n.showLinkForm.set(!0))}),h(1,"app-icon",65),o(2,"span"),d(3,"Add Link"),c()()}r&2&&(s(),_("size",18))}function He(r,t){if(r&1){let e=f();o(0,"button",79),m("click",function(n){return g(e),l(2).resetImageZoom(),p(n.stopPropagation())}),h(1,"app-icon",80),c()}r&2&&(s(),_("size",18))}function We(r,t){if(r&1){let e=f();o(0,"button",81),m("click",function(n){return g(e),l(2).previousImage(),p(n.stopPropagation())}),h(1,"app-icon",4),c(),o(2,"button",82),m("click",function(n){return g(e),l(2).nextImage(),p(n.stopPropagation())}),h(3,"app-icon",83),c()}if(r&2){let e=l(2);_("disabled",e.previewImageIndex()===0),s(),_("size",24),s(),_("disabled",e.previewImageIndex()===e.images().length-1),s(),_("size",24)}}function Xe(r,t){if(r&1&&(o(0,"div",78),d(1),c()),r&2){let e=l(2);s(),ne(" ",e.previewImageIndex()+1," / ",e.images().length," ")}}function Qe(r,t){if(r&1){let e=f();o(0,"div",66),m("click",function(){g(e);let n=l();return p(n.closeImagePreview())}),o(1,"div",67),m("click",function(n){return g(e),p(n.stopPropagation())}),o(2,"button",68),m("click",function(){g(e);let n=l();return p(n.closeImagePreview())}),h(3,"app-icon",69),c(),o(4,"div",70)(5,"button",71),m("click",function(n){return g(e),l().zoomOut(),p(n.stopPropagation())}),o(6,"span",72),d(7,"\u2212"),c()(),o(8,"span",73),d(9),c(),o(10,"button",74),m("click",function(n){return g(e),l().zoomIn(),p(n.stopPropagation())}),o(11,"span",72),d(12,"+"),c()(),x(13,He,2,1,"button",75),c(),x(14,We,4,4),o(15,"div",76),m("wheel",function(n){g(e);let a=l();return p(a.onImageWheel(n))})("mousedown",function(n){g(e);let a=l();return p(a.onImageMouseDown(n))})("mousemove",function(n){g(e);let a=l();return p(a.onImageMouseMove(n))})("mouseup",function(){g(e);let n=l();return p(n.onImageMouseUp())})("mouseleave",function(){g(e);let n=l();return p(n.onImageMouseUp())})("touchstart",function(n){g(e);let a=l();return p(a.onImageTouchStart(n))})("touchmove",function(n){g(e);let a=l();return p(a.onImageTouchMove(n))})("touchend",function(n){g(e);let a=l();return p(a.onImageTouchEnd(n))})("touchcancel",function(n){g(e);let a=l();return p(a.onImageTouchEnd(n))}),h(16,"img",77),c(),x(17,Xe,2,2,"div",78),c()()}if(r&2){let e=l();s(3),_("size",24),s(2),_("disabled",e.imageZoom()<=1),s(4),T("",e.Math.round(e.imageZoom()*100),"%"),s(),_("disabled",e.imageZoom()>=5),s(3),b(e.imageZoom()>1?13:-1),s(),b(e.images().length>1?14:-1),s(),H("cursor",e.imageZoom()>1?e.isDragging()?"grabbing":"grab":"default"),s(),H("transform","scale("+e.imageZoom()+") translate("+e.imagePosition().x+"px, "+e.imagePosition().y+"px)")("transition",e.isDragging()?"none":"transform 0.2s ease"),_("src",e.images()[e.previewImageIndex()],U),s(),b(e.images().length>1?17:-1)}}var xe=class r{route=O(oe);router=O(R);store=O(ae);authService=O(V);notesService=O(re);title=u("");content=u("");categoryId=u("");tags=u([]);images=u([]);links=u([]);tagInput=u("");linkUrl=u("");linkTitle=u("");linkDescription=u("");showLinkForm=u(!1);isSaving=u(!1);showMarkdownPreview=u(!1);renderedMarkdown=u("");imageLoaded=u({});imageUploading=u({});previewImageIndex=u(null);keyDownHandler=this.handleKeyDown.bind(this);imageZoom=u(1);imagePosition=u({x:0,y:0});isDragging=u(!1);dragStart=u(null);touchStartDistance=u(null);touchStartZoom=u(1);noteId=u(null);isEditMode=ie(()=>this.noteId()!==null);categories=this.store.selectSignal(ue);allNotes=this.store.selectSignal(_e);constructor(){A(()=>{let t=this.noteId(),e=this.allNotes();t&&e.length>0&&this.loadNote(t)}),A(()=>{let t=this.categories(),e=this.categoryId();if(!this.isEditMode()&&t.length>0&&!e){let i=t[0];i&&this.categoryId.set(i.id)}}),A(()=>{let t=this.content();t?(Q.setOptions({breaks:!0,gfm:!0}),this.renderedMarkdown.set(Q.parse(t))):this.renderedMarkdown.set("")})}ngOnInit(){let t=this.authService.currentUser()?.email||null;this.notesService.loadFromStorage(t),this.store.dispatch(L.loadNotes()),this.store.dispatch(ce.loadCategories()),document.addEventListener("keydown",this.keyDownHandler),this.route.paramMap.subscribe(e=>{let i=e.get("id");if(i&&i!=="new")this.noteId.set(i),this.allNotes().length>0&&this.loadNote(i);else{this.noteId.set(null),this.title.set(""),this.content.set(""),this.tags.set([]),this.images.set([]),this.links.set([]);let n=this.categories();n.length>0&&this.categoryId.set(n[0].id)}})}loadNote(t){let i=this.allNotes().find(n=>n.id===t);if(i){this.title.set(i.title),this.content.set(i.content),this.categoryId.set(i.categoryId),this.tags.set(i.tags||[]);let n=i.images||[];this.images.set(n),this.imageUploading.set({});let a={};n.forEach((C,v)=>{C.startsWith("data:")?a[v]=!0:a[v]=!1}),this.imageLoaded.set(a),n.length>0&&setTimeout(()=>{let C=this.images(),v=P({},this.imageLoaded());C.forEach((F,q)=>{F.startsWith("data:")&&(v[q]=!0)}),this.imageLoaded.set(v)},100),this.links.set(i.links||[])}else console.warn(`Note with id ${t} not found`)}onImageUpload(t){let e=t.target;if(e.files&&e.files.length>0){let i=e.files[0];if(i.type.startsWith("image/")){let a=i.size/1048576;if(a>10&&!confirm(`Image is ${a.toFixed(2)}MB. Large images may affect performance. Continue with 100% quality?`)){e.value="";return}let v=this.images().length,F="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgZmlsbD0iI2YzZjRmNiIvPjx0ZXh0IHg9IjUwJSIgeT0iNTAlIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMTQiIGZpbGw9IiM5Y2EzYWYiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIj5VcGxvYWRpbmcuLi48L3RleHQ+PC9zdmc+";this.images.update(M=>[...M,F]),this.imageUploading.update(M=>k(P({},M),{[v]:!0})),this.imageLoaded.update(M=>k(P({},M),{[v]:!1}));let q=i.type==="image/png"||i.type==="image/webp"||i.type==="image/gif"||i.type==="image/bmp",Y=new FileReader;Y.onload=M=>{let I=M.target?.result;if(!I||!I.startsWith("data:image/")){console.error("Invalid image data"),this.images.update(w=>w.filter((y,be)=>be!==v)),this.imageUploading.update(w=>{let y=P({},w);return delete y[v],y}),alert("Failed to process image. Please try again.");return}this.images.update(w=>{let y=[...w];return y[v]=I,y}),this.imageUploading.update(w=>{let y=P({},w);return delete y[v],y}),setTimeout(()=>{this.imageLoaded.update(w=>k(P({},w),{[v]:!0}))},100),console.log("Image uploaded at 100% quality:",{type:i.type,size:`${a.toFixed(2)}MB`,lossless:q,base64Length:`${(I.length/1024).toFixed(2)}KB`})},Y.onerror=()=>{console.error("Error reading image file"),this.images.update(M=>M.filter((I,w)=>w!==v)),this.imageUploading.update(M=>{let I=P({},M);return delete I[v],I}),alert("Failed to read image file. Please try again.")},Y.readAsDataURL(i)}else alert("Please select a valid image file."),e.value=""}e.value=""}removeImage(t){this.images.update(n=>n.filter((a,C)=>C!==t));let e=P({},this.imageLoaded());delete e[t],this.imageLoaded.set(e);let i=P({},this.imageUploading());delete i[t],this.imageUploading.set(i),this.previewImageIndex()===t&&this.previewImageIndex.set(null)}openImagePreview(t){this.previewImageIndex.set(t),this.imageZoom.set(1),this.imagePosition.set({x:0,y:0})}closeImagePreview(){this.previewImageIndex.set(null),this.imageZoom.set(1),this.imagePosition.set({x:0,y:0})}nextImage(){let t=this.previewImageIndex();t!==null&&t<this.images().length-1&&(this.previewImageIndex.set(t+1),this.imageZoom.set(1),this.imagePosition.set({x:0,y:0}))}previousImage(){let t=this.previewImageIndex();t!==null&&t>0&&(this.previewImageIndex.set(t-1),this.imageZoom.set(1),this.imagePosition.set({x:0,y:0}))}onImageWheel(t){if(this.previewImageIndex()===null)return;t.preventDefault();let e=t.deltaY>0?-.1:.1,i=Math.max(1,Math.min(5,this.imageZoom()+e));this.imageZoom.set(i),i===1&&this.imagePosition.set({x:0,y:0})}onImageMouseDown(t){this.imageZoom()<=1||(this.isDragging.set(!0),this.dragStart.set({x:t.clientX-this.imagePosition().x,y:t.clientY-this.imagePosition().y}))}onImageMouseMove(t){if(!this.isDragging()||!this.dragStart())return;let e=t.clientX-this.dragStart().x,i=t.clientY-this.dragStart().y;this.imagePosition.set({x:e,y:i})}onImageMouseUp(){this.isDragging.set(!1),this.dragStart.set(null)}resetImageZoom(){this.imageZoom.set(1),this.imagePosition.set({x:0,y:0})}zoomIn(){let t=Math.min(5,this.imageZoom()+.5);this.imageZoom.set(t)}zoomOut(){let t=Math.max(1,this.imageZoom()-.5);this.imageZoom.set(t),t===1&&this.imagePosition.set({x:0,y:0})}getTouchDistance(t,e){let i=e.clientX-t.clientX,n=e.clientY-t.clientY;return Math.sqrt(i*i+n*n)}onImageTouchStart(t){if(t.touches.length===2){let e=this.getTouchDistance(t.touches[0],t.touches[1]);this.touchStartDistance.set(e),this.touchStartZoom.set(this.imageZoom()),t.preventDefault()}else if(t.touches.length===1&&this.imageZoom()>1){let e=t.touches[0];this.isDragging.set(!0),this.dragStart.set({x:e.clientX-this.imagePosition().x,y:e.clientY-this.imagePosition().y})}}onImageTouchMove(t){if(t.touches.length===2&&this.touchStartDistance()!==null){let i=this.getTouchDistance(t.touches[0],t.touches[1])/this.touchStartDistance(),n=Math.max(1,Math.min(5,this.touchStartZoom()*i));this.imageZoom.set(n),t.preventDefault()}else if(t.touches.length===1&&this.isDragging()&&this.dragStart()){let e=t.touches[0],i=e.clientX-this.dragStart().x,n=e.clientY-this.dragStart().y;this.imagePosition.set({x:i,y:n}),t.preventDefault()}}onImageTouchEnd(t){t.touches.length<2&&this.touchStartDistance.set(null),t.touches.length===0&&(this.isDragging.set(!1),this.dragStart.set(null))}onImageLoad(t){let e=t.target,i=this.images(),n=-1;for(let a=0;a<i.length;a++){let C=i[a];if(C.startsWith("data:")){if(e.src===C||e.src.includes(C.substring(0,50))){n=a;break}}else if(e.src===C||e.src.endsWith(C)){n=a;break}}n!==-1&&this.imageLoaded.update(a=>k(P({},a),{[n]:!0}))}onImageError(t){let e=t.target,i=this.images(),n=-1;for(let a=0;a<i.length;a++){let C=i[a];if(e.src===C||e.src.includes(C.substring(0,50))){n=a;break}}n!==-1&&(e.style.opacity="0",e.style.display="none",this.imageLoaded.update(a=>{let C=P({},a);return delete C[n],C}))}addTag(){let t=this.tagInput().trim();t&&!this.tags().includes(t)&&(this.tags.update(e=>[...e,t]),this.tagInput.set(""))}removeTag(t){this.tags.update(e=>e.filter(i=>i!==t))}addLink(){let t=this.linkUrl().trim(),e=this.linkTitle().trim()||t;if(t){let i={url:t,title:e,description:this.linkDescription().trim()||void 0};this.links.update(n=>[...n,i]),this.linkUrl.set(""),this.linkTitle.set(""),this.linkDescription.set(""),this.showLinkForm.set(!1)}}removeLink(t){this.links.update(e=>e.filter((i,n)=>n!==t))}saveNote(){if(!this.title().trim()&&!this.content().trim())return;if(!this.categoryId()||this.categoryId().trim()===""){let e=this.categories()[0];if(e)this.categoryId.set(e.id);else{console.error("No category available. Please create a category first.");return}}this.isSaving.set(!0);let t={title:this.title().trim()||"Untitled Note",content:this.content().trim(),categoryId:this.categoryId(),tags:this.tags().length>0?this.tags():void 0,images:this.images().length>0?this.images():void 0,links:this.links().length>0?this.links():void 0};if(this.isEditMode()){let e=this.noteId();if(!e){console.error("Note ID is missing"),this.isSaving.set(!1);return}this.store.dispatch(L.updateNote({id:e,updates:t}))}else this.store.dispatch(L.createNote({note:t}));setTimeout(()=>{this.isSaving.set(!1),this.router.navigate(["/"])},300)}deleteNote(){this.noteId()&&confirm("Are you sure you want to delete this note?")&&(this.store.dispatch(L.deleteNote({id:this.noteId()})),this.router.navigate(["/"]))}cancel(){this.router.navigate(["/"])}handleKeyDown(t){if(this.previewImageIndex()!==null)switch(t.key){case"Escape":this.closeImagePreview();break;case"ArrowRight":t.preventDefault(),this.imageZoom()>1?this.imagePosition.update(e=>k(P({},e),{x:e.x-50})):this.nextImage();break;case"ArrowLeft":t.preventDefault(),this.imageZoom()>1?this.imagePosition.update(e=>k(P({},e),{x:e.x+50})):this.previousImage();break;case"ArrowUp":t.preventDefault(),this.imageZoom()>1&&this.imagePosition.update(e=>k(P({},e),{y:e.y+50}));break;case"ArrowDown":t.preventDefault(),this.imageZoom()>1&&this.imagePosition.update(e=>k(P({},e),{y:e.y-50}));break;case"+":case"=":t.preventDefault(),this.zoomIn();break;case"-":case"_":t.preventDefault(),this.zoomOut();break;case"0":t.preventDefault(),this.resetImageZoom();break}}Math=Math;toggleMarkdownPreview(){this.showMarkdownPreview.update(t=>!t)}onAiOptimized(t){if(t.content&&t.content!==this.content()&&this.content.set(t.content),t.title&&t.title!==this.title()&&this.title.set(t.title),t.tags&&t.tags.length>0){let e=this.tags(),i=t.tags.filter(n=>!e.includes(n));i.length>0&&this.tags.update(n=>[...n,...i])}}onAiError(t){alert(`AI Optimization Error: ${t}`)}ngOnDestroy(){document.removeEventListener("keydown",this.keyDownHandler)}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=K({type:r,selectors:[["app-note-editor"]],decls:65,vars:20,consts:[[1,"note-editor"],[1,"editor-container"],[1,"editor-header"],["aria-label","Back",1,"icon-btn","back-btn",3,"click"],["name","back",3,"size"],[1,"editor-title"],[1,"header-actions"],["aria-label","Delete",1,"icon-btn","danger-btn"],["aria-label","Save",1,"icon-btn","save-btn",3,"click","disabled"],["name","sync-loading",3,"size"],["name","save",3,"size"],[1,"editor-content",3,"submit"],[1,"title-input-wrapper"],["type","text","name","note-title","id","note-title","placeholder","Note Title","autocomplete","off","data-form-type","other","data-lpignore","true","data-1p-ignore","true","data-bwignore","true","aria-label","Note title",1,"note-title-input",3,"input","value"],[1,"form-group"],["name","note-category","id","note-category","autocomplete","off","data-form-type","other","data-lpignore","true","data-1p-ignore","true","data-bwignore","true","aria-label","Note category",1,"form-select",3,"change","value","disabled"],["value",""],[1,"content-input-wrapper"],[1,"content-header"],[1,"content-actions"],[3,"optimized","error","content","title"],["type","button","aria-label","Toggle markdown preview",1,"preview-toggle-btn",3,"click"],["name","eye",3,"size"],[1,"markdown-preview",3,"innerHTML"],["name","note-content","id","note-content","placeholder","Start writing... (Markdown supported)","rows","8","autocomplete","off","data-form-type","other","data-lpignore","true","data-1p-ignore","true","data-bwignore","true","role","textbox","aria-label","Note content",1,"note-content-input",3,"value"],[1,"form-section"],[1,"tags-section-header"],[1,"tags-container"],[1,"tags-list"],[1,"tag"],[1,"tag-input-group"],["type","text","name","tag-input","id","tag-input","placeholder","Add tag","autocomplete","off","data-form-type","other","data-lpignore","true","data-1p-ignore","true","data-bwignore","true","aria-label","Add tag",1,"tag-input",3,"input","keyup.enter","value"],[1,"btn","btn-small",3,"click"],[1,"images-container"],[1,"image-preview",3,"uploading"],[1,"image-upload-btn"],["type","file","accept","image/*",2,"display","none",3,"change"],["name","image",3,"size"],[1,"links-container"],[1,"link-item"],[1,"link-form"],["type","button",1,"btn","btn-secondary"],[1,"image-preview-modal"],["aria-label","Delete",1,"icon-btn","danger-btn",3,"click"],["name","delete",3,"size"],[3,"value"],["name","note-content","id","note-content","placeholder","Start writing... (Markdown supported)","rows","8","autocomplete","off","data-form-type","other","data-lpignore","true","data-1p-ignore","true","data-bwignore","true","role","textbox","aria-label","Note content",1,"note-content-input",3,"input","value"],[1,"tag-remove",3,"click"],[1,"image-preview"],["alt","Note image","loading","eager",2,"cursor","pointer",3,"load","error","click","src"],[1,"image-loading"],["aria-label","Remove image",1,"image-remove",3,"click"],[1,"loading-spinner"],[1,"loading-text"],[1,"link-content"],["target","_blank",1,"link-title",3,"href"],[1,"link-description"],[1,"link-url"],[1,"link-remove",3,"click"],["type","url","name","link-url","id","link-url","placeholder","URL","autocomplete","off","data-form-type","other","data-lpignore","true","data-1p-ignore","true","data-bwignore","true","aria-label","Link URL",1,"form-input",3,"input","value"],["type","text","name","link-title","id","link-title","placeholder","Title (optional)","autocomplete","off","data-form-type","other","data-lpignore","true","data-1p-ignore","true","data-bwignore","true","aria-label","Link title",1,"form-input",3,"input","value"],["type","text","name","link-description","id","link-description","placeholder","Description (optional)","autocomplete","off","data-form-type","other","data-lpignore","true","data-1p-ignore","true","data-bwignore","true","aria-label","Link description",1,"form-input",3,"input","value"],[1,"link-form-actions"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-secondary",3,"click"],["name","link",3,"size"],[1,"image-preview-modal",3,"click"],[1,"modal-content",3,"click"],["aria-label","Close preview",1,"modal-close",3,"click"],["name","close",3,"size"],[1,"zoom-controls"],["aria-label","Zoom out",1,"zoom-btn",3,"click","disabled"],[2,"font-size","18px","color","white","font-weight","bold"],[1,"zoom-level"],["aria-label","Zoom in",1,"zoom-btn",3,"click","disabled"],["aria-label","Reset zoom",1,"zoom-btn","reset-btn"],[1,"image-container",3,"wheel","mousedown","mousemove","mouseup","mouseleave","touchstart","touchmove","touchend","touchcancel"],["alt","Preview image","loading","eager","draggable","false","decoding","async","fetchpriority","high",1,"preview-image",3,"src"],[1,"image-counter"],["aria-label","Reset zoom",1,"zoom-btn","reset-btn",3,"click"],["name","sync",3,"size"],["aria-label","Previous image",1,"modal-nav","modal-nav-prev",3,"click","disabled"],["aria-label","Next image",1,"modal-nav","modal-nav-next",3,"click","disabled"],["name","back",2,"transform","rotate(180deg)",3,"size"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"header",2)(3,"button",3),m("click",function(){return i.cancel()}),h(4,"app-icon",4),c(),o(5,"h2",5),d(6),c(),o(7,"div",6),h(8,"app-theme-toggle"),x(9,Te,2,1,"button",7),o(10,"button",8),m("click",function(){return i.saveNote()}),x(11,De,1,1,"app-icon",9)(12,Ne,1,1,"app-icon",10),c()()(),o(13,"form",11),m("submit",function(a){return a.preventDefault()}),o(14,"div",12)(15,"input",13),m("input",function(a){return i.title.set(a.target.value)}),c()(),o(16,"div",14)(17,"select",15),m("change",function(a){return i.categoryId.set(a.target.value)}),x(18,Ae,2,0,"option",16)(19,Le,2,0),c()(),o(20,"div",17)(21,"div",18)(22,"label"),d(23,"Content"),c(),o(24,"div",19)(25,"app-ai-optimization-dropdown",20),m("optimized",function(a){return i.onAiOptimized(a)})("error",function(a){return i.onAiError(a)}),c(),o(26,"button",21),m("click",function(){return i.toggleMarkdownPreview()}),h(27,"app-icon",22),o(28,"span"),d(29),c()()()(),x(30,Ue,1,1,"div",23)(31,Ke,1,1,"textarea",24),c(),o(32,"div",25)(33,"div",26)(34,"label"),d(35,"Tags"),c()(),o(36,"div",27)(37,"div",28),S(38,Ze,4,1,"span",29,te),c(),o(40,"div",30)(41,"input",31),m("input",function(a){return i.tagInput.set(a.target.value)})("keyup.enter",function(a){return i.addTag(),a.preventDefault()}),c(),o(42,"button",32),m("click",function(){return i.addTag()}),d(43,"Add"),c()()()(),o(44,"div",25)(45,"label"),d(46,"Images"),c(),o(47,"div",33),S(48,$e,5,8,"div",34,B),o(50,"label",35)(51,"input",36),m("change",function(a){return i.onImageUpload(a)}),c(),h(52,"app-icon",37),o(53,"span"),d(54,"Add"),c()()()(),o(55,"div",25)(56,"label"),d(57,"Links"),c(),o(58,"div",38),S(59,qe,9,4,"div",39,B),x(61,Ye,9,3,"div",40)(62,Be,4,1,"button",41),c()()()(),x(63,Qe,18,14,"div",42),h(64,"app-bottom-nav"),c()),e&2&&(s(4),_("size",20),s(2),z(i.isEditMode()?"Edit Note":"New Note"),s(3),b(i.isEditMode()?9:-1),s(),_("disabled",i.isSaving()),s(),b(i.isSaving()?11:12),s(4),_("value",i.title()),s(2),_("value",i.categoryId())("disabled",i.categories().length===0),s(),b(i.categories().length===0?18:19),s(7),_("content",i.content())("title",i.title()),s(),N("active",i.showMarkdownPreview()),s(),_("size",18),s(2),z(i.showMarkdownPreview()?"Edit":"Preview"),s(),b(i.showMarkdownPreview()?30:31),s(8),E(i.tags()),s(3),_("value",i.tagInput()),s(7),E(i.images()),s(4),_("size",20),s(7),E(i.links()),s(2),b(i.showLinkForm()?61:62),s(2),b(i.previewImageIndex()!==null?63:-1))},dependencies:[Z,me,de,ge,pe,se,le,he,Ce,G,$],styles:['.note-editor[_ngcontent-%COMP%]{min-height:100vh;background:var(--bg-primary);padding-bottom:env(safe-area-inset-bottom);transition:background-color .3s ease}.editor-container[_ngcontent-%COMP%]{max-width:100%;margin:0 auto;background:var(--bg-elevated);min-height:100vh;border:none;box-shadow:none}@media (min-width: 768px){.editor-container[_ngcontent-%COMP%]{max-width:800px;border-radius:var(--radius-lg);margin:2rem auto;box-shadow:var(--shadow-lg);min-height:calc(100vh - 4rem)}}@media (min-width: 1024px){.editor-container[_ngcontent-%COMP%]{max-width:900px}}.editor-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1rem;border-bottom:1px solid var(--border-color);background:var(--bg-elevated);position:sticky;top:0;z-index:10;backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);box-shadow:var(--shadow-sm);transition:background-color .3s ease,border-color .3s ease}.editor-header[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:12px;width:44px;height:44px;min-width:44px;min-height:44px;display:flex;align-items:center;justify-content:center;cursor:pointer;color:var(--text-primary);transition:all .2s cubic-bezier(.4,0,.2,1);flex-shrink:0;touch-action:manipulation;-webkit-tap-highlight-color:transparent}.editor-header[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]   app-icon[_ngcontent-%COMP%]{color:var(--text-primary);transition:transform .2s ease}.editor-header[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]:active{transform:scale(.92);background:var(--bg-hover)}.editor-header[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]:active   app-icon[_ngcontent-%COMP%]{transform:translate(-2px)}@media (max-width: 640px){.editor-header[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{width:48px;height:48px;min-width:48px;min-height:48px}}.editor-header[_ngcontent-%COMP%]   .editor-title[_ngcontent-%COMP%]{flex:1;margin:0;font-size:1.125rem;font-weight:600;color:var(--text-primary)}.editor-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center}.editor-header[_ngcontent-%COMP%]   .icon-btn[_ngcontent-%COMP%]{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:12px;width:44px;height:44px;min-width:44px;min-height:44px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s cubic-bezier(.4,0,.2,1);padding:0;touch-action:manipulation;-webkit-tap-highlight-color:transparent}.editor-header[_ngcontent-%COMP%]   .icon-btn[_ngcontent-%COMP%]   app-icon[_ngcontent-%COMP%]{color:var(--text-secondary);transition:color .2s ease}.editor-header[_ngcontent-%COMP%]   .icon-btn[_ngcontent-%COMP%]:active:not(:disabled){transform:scale(.92);background:var(--bg-hover)}.editor-header[_ngcontent-%COMP%]   .icon-btn.save-btn[_ngcontent-%COMP%]{background:var(--primary-color);color:var(--text-inverse);border-color:var(--primary-color);box-shadow:var(--shadow-sm)}.editor-header[_ngcontent-%COMP%]   .icon-btn.save-btn[_ngcontent-%COMP%]   app-icon[_ngcontent-%COMP%]{color:var(--text-inverse)}.editor-header[_ngcontent-%COMP%]   .icon-btn.save-btn[_ngcontent-%COMP%]:active:not(:disabled){background:var(--primary-hover);transform:scale(.92);box-shadow:var(--shadow-md)}.editor-header[_ngcontent-%COMP%]   .icon-btn.danger-btn[_ngcontent-%COMP%]{background:var(--error-color);color:var(--text-inverse);border-color:var(--error-color);box-shadow:var(--shadow-sm)}.editor-header[_ngcontent-%COMP%]   .icon-btn.danger-btn[_ngcontent-%COMP%]   app-icon[_ngcontent-%COMP%]{color:var(--text-inverse)}.editor-header[_ngcontent-%COMP%]   .icon-btn.danger-btn[_ngcontent-%COMP%]:active:not(:disabled){background:#dc2626;transform:scale(.92);box-shadow:var(--shadow-md)}.editor-header[_ngcontent-%COMP%]   .icon-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed;transform:none}@media (max-width: 640px){.editor-header[_ngcontent-%COMP%]   .icon-btn[_ngcontent-%COMP%]{width:48px;height:48px;min-width:48px;min-height:48px}}.editor-content[_ngcontent-%COMP%]{padding:1rem;padding-bottom:calc(1rem + env(safe-area-inset-bottom))}@media (max-width: 640px){.editor-content[_ngcontent-%COMP%]{padding:.75rem;padding-bottom:calc(.75rem + env(safe-area-inset-bottom) + 80px)}}@media (min-width: 768px){.editor-content[_ngcontent-%COMP%]{padding:2rem;max-width:100%}}.title-input-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;gap:.5rem;margin-bottom:1rem}.title-input-wrapper[_ngcontent-%COMP%]   .note-title-input[_ngcontent-%COMP%]{flex:1;border:none;outline:none;font-size:1.5rem;font-weight:600;color:var(--text-primary);padding:.5rem 0;background:transparent}@media (max-width: 640px){.title-input-wrapper[_ngcontent-%COMP%]   .note-title-input[_ngcontent-%COMP%]{font-size:1.25rem;font-size:20px;padding:.375rem 0}}.note-title-input[_ngcontent-%COMP%]{width:100%;border:none;outline:none;font-size:1.5rem;font-weight:600;color:var(--text-primary);margin-bottom:1rem;padding:.5rem 0;background:transparent}@media (max-width: 640px){.note-title-input[_ngcontent-%COMP%]{font-size:1.25rem;font-size:20px;padding:.375rem 0}}.note-title-input[_ngcontent-%COMP%]::placeholder{color:var(--text-tertiary)}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.form-select[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid var(--border-color);border-radius:var(--radius-sm);font-size:1rem;background:var(--bg-primary);color:var(--text-primary);cursor:pointer}@media (max-width: 640px){.form-select[_ngcontent-%COMP%]{font-size:16px;padding:.625rem}}.form-select[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px var(--primary-light)}.content-input-wrapper[_ngcontent-%COMP%]{position:relative;margin-bottom:1.5rem}.content-input-wrapper[_ngcontent-%COMP%]   .content-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem}.content-input-wrapper[_ngcontent-%COMP%]   .content-header[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:var(--text-secondary)}.content-input-wrapper[_ngcontent-%COMP%]   .content-header[_ngcontent-%COMP%]   .content-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.content-input-wrapper[_ngcontent-%COMP%]   .content-header[_ngcontent-%COMP%]   .preview-toggle-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem .75rem;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:8px;color:var(--text-primary);font-size:.875rem;cursor:pointer;transition:all .2s}.content-input-wrapper[_ngcontent-%COMP%]   .content-header[_ngcontent-%COMP%]   .preview-toggle-btn[_ngcontent-%COMP%]:hover{background:var(--bg-hover);border-color:var(--primary-color)}.content-input-wrapper[_ngcontent-%COMP%]   .content-header[_ngcontent-%COMP%]   .preview-toggle-btn.active[_ngcontent-%COMP%]{background:var(--primary-color);border-color:var(--primary-color);color:#fff}.content-input-wrapper[_ngcontent-%COMP%]   .markdown-preview[_ngcontent-%COMP%]{min-height:200px;padding:1rem;background:var(--bg-primary);border:1px solid var(--border-color);border-radius:8px;color:var(--text-primary);line-height:1.7;font-size:1rem}.content-input-wrapper[_ngcontent-%COMP%]   .markdown-preview[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:deep(h1){font-size:2rem;font-weight:700;margin:1.5rem 0 1rem;color:var(--text-primary)}.content-input-wrapper[_ngcontent-%COMP%]   .markdown-preview[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:deep(h2){font-size:1.5rem;font-weight:600;margin:1.25rem 0 .75rem;color:var(--text-primary)}.content-input-wrapper[_ngcontent-%COMP%]   .markdown-preview[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:deep(h3){font-size:1.25rem;font-weight:600;margin:1rem 0 .5rem;color:var(--text-primary)}.content-input-wrapper[_ngcontent-%COMP%]   .markdown-preview[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:deep(p){margin:.75rem 0}.content-input-wrapper[_ngcontent-%COMP%]   .markdown-preview[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:deep(ul), .content-input-wrapper[_ngcontent-%COMP%]   .markdown-preview[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:deep(ol){margin:.75rem 0;padding-left:1.5rem}.content-input-wrapper[_ngcontent-%COMP%]   .markdown-preview[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:deep(li){margin:.5rem 0}.content-input-wrapper[_ngcontent-%COMP%]   .markdown-preview[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:deep(code){background:var(--bg-secondary);padding:.2rem .4rem;border-radius:4px;font-family:Courier New,monospace;font-size:.9em}.content-input-wrapper[_ngcontent-%COMP%]   .markdown-preview[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:deep(pre){background:var(--bg-secondary);padding:1rem;border-radius:8px;overflow-x:auto;margin:1rem 0}.content-input-wrapper[_ngcontent-%COMP%]   .markdown-preview[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:deep(pre code){background:none;padding:0}.content-input-wrapper[_ngcontent-%COMP%]   .markdown-preview[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:deep(blockquote){border-left:4px solid var(--primary-color);padding-left:1rem;margin:1rem 0;color:var(--text-secondary);font-style:italic}.content-input-wrapper[_ngcontent-%COMP%]   .markdown-preview[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:deep(a){color:var(--primary-color);text-decoration:underline}.content-input-wrapper[_ngcontent-%COMP%]   .markdown-preview[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:deep(strong){font-weight:600}.content-input-wrapper[_ngcontent-%COMP%]   .markdown-preview[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:deep(em){font-style:italic}.content-input-wrapper[_ngcontent-%COMP%]   .note-content-input[_ngcontent-%COMP%]{width:100%;border:1px solid var(--border-color);border-radius:var(--radius-sm);padding:1rem;font-size:1rem;line-height:1.6;color:var(--text-primary);resize:vertical;min-height:200px;font-family:inherit;background:var(--bg-primary)}@media (max-width: 640px){.content-input-wrapper[_ngcontent-%COMP%]   .note-content-input[_ngcontent-%COMP%]{min-height:150px}}.note-content-input[_ngcontent-%COMP%]{width:100%;border:1px solid var(--border-color);border-radius:var(--radius-sm);padding:1rem;font-size:1rem;line-height:1.6;color:var(--text-primary);resize:vertical;min-height:200px;margin-bottom:1.5rem;font-family:inherit;background:var(--bg-primary)}@media (max-width: 640px){.note-content-input[_ngcontent-%COMP%]{min-height:150px;padding:.75rem;font-size:16px}}.note-content-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px var(--primary-light)}.note-content-input[_ngcontent-%COMP%]::placeholder{color:var(--text-tertiary)}.form-section[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-section[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.75rem;font-weight:500;color:var(--text-primary);font-size:.875rem}.form-section[_ngcontent-%COMP%]   .tags-section-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:.75rem}.form-section[_ngcontent-%COMP%]   .tags-section-header[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:0}.tags-container[_ngcontent-%COMP%]   .tags-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem;margin-bottom:.75rem}@media (max-width: 640px){.tags-container[_ngcontent-%COMP%]   .tags-list[_ngcontent-%COMP%]{gap:.375rem}}.tags-container[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;background:var(--primary-color);color:var(--text-inverse);padding:.5rem .75rem;border-radius:16px;font-size:.875rem;font-weight:500}@media (max-width: 640px){.tags-container[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{padding:.375rem .625rem;font-size:.8125rem}}.tags-container[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]   .tag-remove[_ngcontent-%COMP%]{background:none;border:none;color:var(--text-inverse);cursor:pointer;font-size:1.125rem;line-height:1;padding:0;width:18px;height:18px;display:flex;align-items:center;justify-content:center;border-radius:50%}.tags-container[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]   .tag-remove[_ngcontent-%COMP%]:active{background:#fff3}.tags-container[_ngcontent-%COMP%]   .tag-input-group[_ngcontent-%COMP%]{display:flex;gap:.5rem}@media (max-width: 640px){.tags-container[_ngcontent-%COMP%]   .tag-input-group[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}}.tags-container[_ngcontent-%COMP%]   .tag-input-group[_ngcontent-%COMP%]   .tag-input[_ngcontent-%COMP%]{flex:1;padding:.75rem;border:1px solid var(--border-color);border-radius:var(--radius-sm);font-size:1rem;background:var(--bg-primary);color:var(--text-primary)}@media (max-width: 640px){.tags-container[_ngcontent-%COMP%]   .tag-input-group[_ngcontent-%COMP%]   .tag-input[_ngcontent-%COMP%]{font-size:16px;padding:.625rem}}.tags-container[_ngcontent-%COMP%]   .tag-input-group[_ngcontent-%COMP%]   .tag-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px var(--primary-light)}.images-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.75rem}@media (max-width: 640px){.images-container[_ngcontent-%COMP%]{gap:.5rem}}.images-container[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]{position:relative;width:100px;height:100px;min-width:100px;min-height:100px;border-radius:var(--radius-sm);overflow:hidden;border:2px solid var(--border-color);background:var(--bg-secondary);flex-shrink:0}@media (max-width: 640px){.images-container[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]{width:88px;height:88px;min-width:88px;min-height:88px}}.images-container[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:opacity .2s ease;display:block}.images-container[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   img[src^="data:"][_ngcontent-%COMP%]{opacity:1!important;visibility:visible!important}.images-container[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   img.loaded[_ngcontent-%COMP%]{opacity:1;visibility:visible}.images-container[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   img.loading[_ngcontent-%COMP%]{opacity:0;visibility:hidden}.images-container[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:not(.loaded):not(.loading){opacity:1;visibility:visible}.images-container[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   .image-loading[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;background:#00000080;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);z-index:1}.images-container[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   .image-loading[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{width:32px;height:32px;border:3px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite;margin-bottom:.5rem}.images-container[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   .image-loading[_ngcontent-%COMP%]   .loading-text[_ngcontent-%COMP%]{color:#fff;font-size:.875rem;font-weight:500;text-shadow:0 1px 2px rgba(0,0,0,.3)}.images-container[_ngcontent-%COMP%]   .image-preview.uploading[_ngcontent-%COMP%]{opacity:.8}.images-container[_ngcontent-%COMP%]   .image-preview.uploading[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:blur(2px)}.images-container[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   .image-remove[_ngcontent-%COMP%]{position:absolute;top:.5rem;right:.5rem;background:#000000b3;color:#fff;border:none;border-radius:50%;width:24px;height:24px;cursor:pointer;font-size:1rem;display:flex;align-items:center;justify-content:center;z-index:2}.images-container[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   .image-remove[_ngcontent-%COMP%]:active{background:#000000e6}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.images-container[_ngcontent-%COMP%]   .image-upload-btn[_ngcontent-%COMP%]{width:100px;height:100px;min-width:100px;min-height:100px;border:2px dashed var(--border-color);border-radius:var(--radius-sm);display:flex;flex-direction:column;align-items:center;justify-content:center;gap:.375rem;cursor:pointer;background:var(--bg-secondary);transition:all .2s cubic-bezier(.4,0,.2,1);touch-action:manipulation;-webkit-tap-highlight-color:transparent}@media (max-width: 640px){.images-container[_ngcontent-%COMP%]   .image-upload-btn[_ngcontent-%COMP%]{width:88px;height:88px;min-width:88px;min-height:88px}}.images-container[_ngcontent-%COMP%]   .image-upload-btn[_ngcontent-%COMP%]   app-icon[_ngcontent-%COMP%]{color:var(--text-secondary);transition:all .2s ease}.images-container[_ngcontent-%COMP%]   .image-upload-btn[_ngcontent-%COMP%]:active{border-color:var(--primary-color);background:var(--bg-hover);transform:scale(.95)}.images-container[_ngcontent-%COMP%]   .image-upload-btn[_ngcontent-%COMP%]:active   app-icon[_ngcontent-%COMP%]{color:var(--primary-color);transform:scale(1.1)}.images-container[_ngcontent-%COMP%]   .image-upload-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.75rem;font-weight:500;transition:color .2s ease}.images-container[_ngcontent-%COMP%]   .image-upload-btn[_ngcontent-%COMP%]:active   span[_ngcontent-%COMP%]{color:var(--primary-color)}.links-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}@media (max-width: 640px){.links-container[_ngcontent-%COMP%]{gap:.5rem}}.links-container[_ngcontent-%COMP%]   .link-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;padding:1rem;background:var(--bg-secondary);border-radius:var(--radius-sm);border:1px solid var(--border-color)}@media (max-width: 640px){.links-container[_ngcontent-%COMP%]   .link-item[_ngcontent-%COMP%]{padding:.75rem}}.links-container[_ngcontent-%COMP%]   .link-item[_ngcontent-%COMP%]   .link-content[_ngcontent-%COMP%]{flex:1;min-width:0}.links-container[_ngcontent-%COMP%]   .link-item[_ngcontent-%COMP%]   .link-content[_ngcontent-%COMP%]   .link-title[_ngcontent-%COMP%]{display:block;font-weight:600;color:var(--primary-color);text-decoration:none;margin-bottom:.25rem;font-size:.875rem;word-break:break-word}.links-container[_ngcontent-%COMP%]   .link-item[_ngcontent-%COMP%]   .link-content[_ngcontent-%COMP%]   .link-description[_ngcontent-%COMP%]{margin:.25rem 0;color:var(--text-secondary);font-size:.75rem;word-break:break-word}.links-container[_ngcontent-%COMP%]   .link-item[_ngcontent-%COMP%]   .link-content[_ngcontent-%COMP%]   .link-url[_ngcontent-%COMP%]{display:block;color:var(--text-tertiary);font-size:.7rem;word-break:break-all}.links-container[_ngcontent-%COMP%]   .link-item[_ngcontent-%COMP%]   .link-remove[_ngcontent-%COMP%]{background:none;border:none;color:var(--text-secondary);cursor:pointer;font-size:1.25rem;padding:.25rem;flex-shrink:0}.links-container[_ngcontent-%COMP%]   .link-item[_ngcontent-%COMP%]   .link-remove[_ngcontent-%COMP%]:active{color:var(--text-primary)}.links-container[_ngcontent-%COMP%]   .link-form[_ngcontent-%COMP%]{padding:1rem;background:var(--bg-secondary);border-radius:var(--radius-sm);border:1px solid var(--border-color);display:flex;flex-direction:column;gap:.75rem}@media (max-width: 640px){.links-container[_ngcontent-%COMP%]   .link-form[_ngcontent-%COMP%]{padding:.75rem;gap:.5rem}}.links-container[_ngcontent-%COMP%]   .link-form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{padding:.75rem;border:1px solid var(--border-color);border-radius:var(--radius-sm);font-size:1rem;background:var(--bg-primary);color:var(--text-primary)}@media (max-width: 640px){.links-container[_ngcontent-%COMP%]   .link-form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{font-size:16px;padding:.625rem}}.links-container[_ngcontent-%COMP%]   .link-form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px var(--primary-light)}.links-container[_ngcontent-%COMP%]   .link-form[_ngcontent-%COMP%]   .link-form-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem}@media (max-width: 640px){.links-container[_ngcontent-%COMP%]   .link-form[_ngcontent-%COMP%]   .link-form-actions[_ngcontent-%COMP%]{flex-direction:column}}.btn[_ngcontent-%COMP%]   app-icon[_ngcontent-%COMP%]{color:inherit}@media (max-width: 640px){.btn[_ngcontent-%COMP%]{min-height:48px;font-size:1rem}}.image-preview-modal[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000000fa;z-index:10000;display:flex;align-items:center;justify-content:center;padding:1rem;animation:_ngcontent-%COMP%_fadeIn .2s ease;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);overflow:hidden}.image-preview-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{position:relative;max-width:100%;max-height:100%;display:flex;align-items:center;justify-content:center;width:100%;height:100%;overflow:hidden}.image-preview-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;overflow:hidden;touch-action:none;-webkit-user-select:none;user-select:none}.image-preview-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .preview-image[_ngcontent-%COMP%]{max-width:none;max-height:none;width:auto;height:auto;min-width:100px;min-height:100px;object-fit:contain;border-radius:var(--radius-sm);box-shadow:0 20px 60px #00000080;transform-origin:center center;will-change:transform;image-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-backface-visibility:hidden;backface-visibility:hidden;-webkit-transform:translateZ(0);transform:translateZ(0)}@media (max-width: 640px){.image-preview-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .preview-image[_ngcontent-%COMP%]{touch-action:pan-x pan-y pinch-zoom;-webkit-user-select:none;user-select:none}}.image-preview-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]{position:absolute;top:1rem;left:50%;transform:translate(-50%);display:flex;align-items:center;gap:.5rem;background:#000000b3;padding:.5rem 1rem;border-radius:24px;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);z-index:10002}@media (max-width: 640px){.image-preview-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]{top:.5rem;padding:.375rem .75rem;gap:.375rem}}.image-preview-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]   .zoom-level[_ngcontent-%COMP%]{color:#fff;font-size:.875rem;font-weight:600;min-width:50px;text-align:center}@media (max-width: 640px){.image-preview-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]   .zoom-level[_ngcontent-%COMP%]{font-size:.75rem;min-width:40px}}.image-preview-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]   .zoom-btn[_ngcontent-%COMP%]{background:#fff3;border:none;border-radius:50%;width:36px;height:36px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease;touch-action:manipulation;-webkit-tap-highlight-color:transparent}@media (max-width: 640px){.image-preview-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]   .zoom-btn[_ngcontent-%COMP%]{width:32px;height:32px}}.image-preview-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]   .zoom-btn[_ngcontent-%COMP%]   app-icon[_ngcontent-%COMP%]{color:#fff}.image-preview-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]   .zoom-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#ffffff4d;transform:scale(1.1)}.image-preview-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]   .zoom-btn[_ngcontent-%COMP%]:active:not(:disabled){transform:scale(.95)}.image-preview-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]   .zoom-btn[_ngcontent-%COMP%]:disabled{opacity:.3;cursor:not-allowed}.image-preview-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]   .zoom-btn.reset-btn[_ngcontent-%COMP%]{margin-left:.25rem;background:#ffffff26}.image-preview-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-close[_ngcontent-%COMP%]{position:absolute;top:1rem;right:1rem;background:#fff3;border:none;border-radius:50%;width:44px;height:44px;display:flex;align-items:center;justify-content:center;cursor:pointer;z-index:10001;transition:all .2s ease;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px)}.image-preview-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-close[_ngcontent-%COMP%]   app-icon[_ngcontent-%COMP%]{color:#fff}.image-preview-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-close[_ngcontent-%COMP%]:hover{background:#ffffff4d;transform:scale(1.1)}.image-preview-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-close[_ngcontent-%COMP%]:active{transform:scale(.95)}@media (max-width: 640px){.image-preview-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-close[_ngcontent-%COMP%]{top:.5rem;right:.5rem;width:40px;height:40px}}.image-preview-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-nav[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);background:#fff3;border:none;border-radius:50%;width:48px;height:48px;display:flex;align-items:center;justify-content:center;cursor:pointer;z-index:10001;transition:all .2s ease;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px)}.image-preview-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-nav[_ngcontent-%COMP%]   app-icon[_ngcontent-%COMP%]{color:#fff}.image-preview-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-nav[_ngcontent-%COMP%]:hover:not(:disabled){background:#ffffff4d;transform:translateY(-50%) scale(1.1)}.image-preview-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-nav[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(-50%) scale(.95)}.image-preview-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-nav[_ngcontent-%COMP%]:disabled{opacity:.3;cursor:not-allowed}.image-preview-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-nav.modal-nav-prev[_ngcontent-%COMP%]{left:1rem}@media (max-width: 640px){.image-preview-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-nav.modal-nav-prev[_ngcontent-%COMP%]{left:.5rem;width:40px;height:40px}}.image-preview-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-nav.modal-nav-next[_ngcontent-%COMP%]{right:1rem}@media (max-width: 640px){.image-preview-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-nav.modal-nav-next[_ngcontent-%COMP%]{right:.5rem;width:40px;height:40px}}.image-preview-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .image-counter[_ngcontent-%COMP%]{position:absolute;bottom:1rem;left:50%;transform:translate(-50%);background:#000000b3;color:#fff;padding:.5rem 1rem;border-radius:20px;font-size:.875rem;font-weight:500;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px)}@media (max-width: 640px){.image-preview-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .image-counter[_ngcontent-%COMP%]{bottom:.5rem;padding:.375rem .75rem;font-size:.75rem}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}']})};export{xe as NoteEditor};
