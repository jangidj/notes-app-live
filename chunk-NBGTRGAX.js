import{c as S}from"./chunk-ZCVQWEPZ.js";import{b as y}from"./chunk-GBK73SLR.js";import{c as N}from"./chunk-6OPMRMYD.js";import{p as T}from"./chunk-XCZL2FWP.js";import{Aa as t,Ba as r,Ca as k,Fa as u,Ga as C,Ia as l,Ja as c,Ka as h,La as E,Na as m,Oa as O,P as w,S as s,T as g,_,_a as V,da as p,eb as F,ia as P,qa as b,ra as x,ta as M,ua as v,va as f}from"./chunk-QQGFIXA2.js";var L=(a,n)=>n.id;function D(a,n){if(a&1){let e=u();t(0,"button",19),l("click",function(){let o=s(e).$implicit,d=c(2);return g(d.categoryColor.set(o))}),r()}if(a&2){let e=n.$implicit,i=c(2);h("background-color",e),E("active",i.categoryColor()===e)}}function I(a,n){if(a&1){let e=u();t(0,"div",5)(1,"h3"),m(2,"Add New Category"),r(),t(3,"div",11)(4,"label"),m(5,"Name"),r(),t(6,"input",12),l("input",function(o){s(e);let d=c();return g(d.categoryName.set(o.target.value))}),r()(),t(7,"div",11)(8,"label"),m(9,"Color"),r(),t(10,"div",13),v(11,D,1,4,"button",14,M),r(),t(13,"input",15),l("input",function(o){s(e);let d=c();return g(d.categoryColor.set(o.target.value))}),r()(),t(14,"div",16)(15,"button",17),l("click",function(){s(e);let o=c();return g(o.createCategory())}),m(16,"Create"),r(),t(17,"button",18),l("click",function(){s(e);let o=c();return g(o.cancelAdd())}),m(18,"Cancel"),r()()()}if(a&2){let e=c();p(6),C("value",e.categoryName()),p(5),f(e.colorPalette),p(2),C("value",e.categoryColor())}}function $(a,n){if(a&1){let e=u();t(0,"button",17),l("click",function(){s(e);let o=c();return g(o.openAddForm())}),m(1," + Add Category "),r()}}function z(a,n){if(a&1){let e=u();t(0,"button",19),l("click",function(){let o=s(e).$implicit,d=c(3);return g(d.editColor.set(o))}),r()}if(a&2){let e=n.$implicit,i=c(3);h("background-color",e),E("active",i.editColor()===e)}}function j(a,n){if(a&1){let e=u();t(0,"div",20)(1,"input",21),l("input",function(o){s(e);let d=c(2);return g(d.editName.set(o.target.value))}),r(),t(2,"div",13),v(3,z,1,4,"button",14,M),r(),t(5,"input",15),l("input",function(o){s(e);let d=c(2);return g(d.editColor.set(o.target.value))}),r(),t(6,"div",22)(7,"button",23),l("click",function(){s(e);let o=c().$implicit,d=c();return g(d.updateCategory(o.id))}),m(8," Save "),r(),t(9,"button",24),l("click",function(){s(e);let o=c(2);return g(o.cancelEdit())}),m(10," Cancel "),r()()()}if(a&2){let e=c(2);p(),C("value",e.editName()),p(2),f(e.colorPalette),p(2),C("value",e.editColor())}}function B(a,n){if(a&1){let e=u();t(0,"div",25),k(1,"div",26),t(2,"span",27),m(3),r()(),t(4,"div",22)(5,"button",28),l("click",function(){s(e);let o=c().$implicit,d=c();return g(d.startEdit(o))}),m(6,"\u270F\uFE0F"),r(),t(7,"button",29),l("click",function(){s(e);let o=c().$implicit,d=c();return g(d.deleteCategory(o.id))}),m(8,"\u{1F5D1}\uFE0F"),r()()}if(a&2){let e=c().$implicit;p(),h("background-color",e.color),p(2),O(e.name)}}function Y(a,n){if(a&1&&(t(0,"div",10),b(1,j,11,2,"div",20)(2,B,9,3),r()),a&2){let e=n.$implicit,i=c();p(),x(i.editingCategoryId()===e.id?1:2)}}var A=class a{store=w(T);close=V();categories=this.store.selectSignal(N);showAddForm=_(!1);categoryName=_("");categoryColor=_("#667eea");editingCategoryId=_(null);editName=_("");editColor=_("");colorPalette=["#667eea","#764ba2","#f093fb","#4facfe","#43e97b","#fa709a","#fee140","#30cfd0","#a8edea","#fed6e3","#ff9a9e","#fecfef","#ffecd2","#fcb69f","#ff8a80","#ff80ab"];ngOnInit(){this.store.dispatch(y.loadCategories())}openAddForm(){this.showAddForm.set(!0),this.categoryName.set(""),this.categoryColor.set("#667eea")}cancelAdd(){this.showAddForm.set(!1)}createCategory(){let n=this.categoryName().trim();n&&(this.store.dispatch(y.createCategory({category:{name:n,color:this.categoryColor()}})),this.showAddForm.set(!1),this.categoryName.set(""))}startEdit(n){this.editingCategoryId.set(n.id),this.editName.set(n.name),this.editColor.set(n.color)}cancelEdit(){this.editingCategoryId.set(null)}updateCategory(n){let e=this.editName().trim();e&&(this.store.dispatch(y.updateCategory({id:n,updates:{name:e,color:this.editColor()}})),this.editingCategoryId.set(null))}deleteCategory(n){confirm("Are you sure you want to delete this category? Notes in this category will not be deleted.")&&this.store.dispatch(y.deleteCategory({id:n}))}onClose(){this.close.emit()}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=P({type:a,selectors:[["app-category-manager"]],outputs:{close:"close"},decls:17,vars:2,consts:[[1,"category-manager-overlay",3,"click"],[1,"category-manager",3,"click"],[1,"manager-header"],[1,"close-btn",3,"click"],[1,"manager-content"],[1,"add-category-form"],[1,"categories-list"],[1,"list-header"],[1,"btn","btn-primary"],[1,"categories-grid"],[1,"category-item"],[1,"form-group"],["type","text","placeholder","Category name","autocomplete","off","data-form-type","other",1,"form-input",3,"input","value"],[1,"color-picker"],[1,"color-option",3,"active","background-color"],["type","color",1,"color-input",3,"input","value"],[1,"form-actions"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-secondary",3,"click"],[1,"color-option",3,"click"],[1,"edit-form"],["type","text","autocomplete","off","data-form-type","other",1,"form-input",3,"input","value"],[1,"item-actions"],[1,"btn","btn-small","btn-primary",3,"click"],[1,"btn","btn-small","btn-secondary",3,"click"],[1,"category-display"],[1,"category-color-indicator"],[1,"category-name"],[1,"btn-icon",3,"click"],[1,"btn-icon","btn-danger",3,"click"]],template:function(e,i){e&1&&(t(0,"div",0),l("click",function(){return i.onClose()}),t(1,"div",1),l("click",function(d){return d.stopPropagation()}),t(2,"header",2)(3,"h2"),m(4,"Manage Categories"),r(),t(5,"button",3),l("click",function(){return i.onClose()}),m(6,"\xD7"),r()(),t(7,"div",4),b(8,I,19,2,"div",5),t(9,"div",6)(10,"div",7)(11,"h3"),m(12,"Categories"),r(),b(13,$,2,0,"button",8),r(),t(14,"div",9),v(15,Y,3,1,"div",10,L),r()()()()()),e&2&&(p(8),x(i.showAddForm()?8:-1),p(5),x(i.showAddForm()?-1:13),p(2),f(i.categories()))},dependencies:[F,S],styles:[".category-manager-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:1000;padding:clamp(.5rem,2vw,2rem);overflow-y:auto}@media (max-width: 639px){.category-manager-overlay[_ngcontent-%COMP%]{padding:2rem .5rem .5rem;align-items:flex-start}}@media (min-width: 640px) and (max-width: 1023px){.category-manager-overlay[_ngcontent-%COMP%]{padding:1rem}}@media (min-width: 1024px){.category-manager-overlay[_ngcontent-%COMP%]{padding:2rem}}.category-manager[_ngcontent-%COMP%]{background:var(--bg-elevated);border-radius:clamp(8px,2vw,12px);max-width:600px;width:100%;max-height:90vh;display:flex;flex-direction:column;box-shadow:var(--shadow-xl);border:1px solid var(--border-color);transition:all .3s ease}@media (max-width: 639px){.category-manager[_ngcontent-%COMP%]{max-height:95vh;border-radius:12px 12px 0 0;margin-top:auto}}.manager-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.5rem;border-bottom:1px solid var(--border-color);background:var(--bg-secondary)}.manager-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;color:var(--text-primary)}.manager-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:var(--bg-secondary);border:1px solid var(--border-color);font-size:2rem;color:var(--text-secondary);cursor:pointer;padding:0;width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:all .2s ease}.manager-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:var(--bg-hover);color:var(--text-primary);border-color:var(--border-hover)}.manager-content[_ngcontent-%COMP%]{padding:1.5rem;overflow-y:auto;flex:1}.add-category-form[_ngcontent-%COMP%]{padding:1.5rem;background:var(--bg-secondary);border-radius:8px;margin-bottom:1.5rem;border:1px solid var(--border-color)}.add-category-form[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 1rem;font-size:1.25rem;color:var(--text-primary)}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:500;color:var(--text-primary)}.form-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid var(--border-color);border-radius:8px;font-size:1rem;background:var(--bg-primary);color:var(--text-primary);transition:all .2s ease}.form-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px var(--primary-light)}.color-picker[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem;margin-bottom:.75rem}.color-option[_ngcontent-%COMP%]{width:32px;height:32px;border:2px solid transparent;border-radius:50%;cursor:pointer;transition:all .2s ease}.color-option.active[_ngcontent-%COMP%]{border-color:var(--text-primary);transform:scale(1.1);box-shadow:var(--shadow-md)}.color-option[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.color-input[_ngcontent-%COMP%]{width:100%;height:40px;border:1px solid var(--border-color);border-radius:8px;cursor:pointer;background:var(--bg-primary)}.form-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem}.list-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.list-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;color:var(--text-primary)}.categories-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:clamp(.5rem,2vw,.75rem)}@media (max-width: 640px){.categories-grid[_ngcontent-%COMP%]{gap:.5rem}}.category-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem;background:var(--bg-secondary);border-radius:8px;border:1px solid var(--border-color);transition:all .2s ease}.category-item[_ngcontent-%COMP%]:hover{border-color:var(--border-hover)}.category-item[_ngcontent-%COMP%]   .category-display[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;flex:1}.category-item[_ngcontent-%COMP%]   .category-display[_ngcontent-%COMP%]   .category-color-indicator[_ngcontent-%COMP%]{width:24px;height:24px;border-radius:50%;border:2px solid var(--bg-elevated);box-shadow:0 0 0 1px var(--border-color)}.category-item[_ngcontent-%COMP%]   .category-display[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%]{font-weight:500;color:var(--text-primary)}.category-item[_ngcontent-%COMP%]   .edit-form[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:.75rem}.category-item[_ngcontent-%COMP%]   .edit-form[_ngcontent-%COMP%]   .color-picker[_ngcontent-%COMP%]{margin-bottom:0}.category-item[_ngcontent-%COMP%]   .item-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-left:1rem}.btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border:none;border-radius:8px;font-size:1rem;font-weight:500;cursor:pointer;transition:all .2s ease}.btn.btn-primary[_ngcontent-%COMP%]{background:var(--primary-color);color:var(--text-inverse)}.btn.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--primary-hover);transform:translateY(-1px);box-shadow:var(--shadow-md)}.btn.btn-secondary[_ngcontent-%COMP%]{background:var(--bg-secondary);color:var(--text-primary);border:1px solid var(--border-color)}.btn.btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--bg-hover);border-color:var(--border-hover)}.btn.btn-small[_ngcontent-%COMP%]{padding:.5rem 1rem;font-size:.875rem}.btn-icon[_ngcontent-%COMP%]{background:var(--bg-secondary);border:1px solid var(--border-color);font-size:1.25rem;cursor:pointer;padding:.5rem;border-radius:4px;transition:all .2s ease;color:var(--text-secondary)}.btn-icon[_ngcontent-%COMP%]:hover{background:var(--bg-hover);color:var(--text-primary);border-color:var(--border-hover)}.btn-icon.btn-danger[_ngcontent-%COMP%]:hover{background:var(--error-color);color:var(--text-inverse);border-color:var(--error-color)}"]})};export{A as a};
