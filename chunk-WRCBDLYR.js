import{Aa as i,Ba as o,Ca as u,Fa as f,Ga as x,Ia as b,Ja as s,Na as r,Oa as C,P as _,Pa as w,S as h,T as v,U as M,V as P,c as g,ca as O,da as a,eb as S,ia as E,ib as L,mb as k,qa as m,ra as p}from"./chunk-QQGFIXA2.js";function I(t,n){if(t&1&&(i(0,"div",3),r(1),o()),t&2){let e=s();a(),w(" ",e.error," ")}}function D(t,n){if(t&1){let e=f();i(0,"div",4),u(1,"img",7),i(2,"div",8)(3,"h3"),r(4),o(),i(5,"p"),r(6),o()(),i(7,"button",9),b("click",function(){h(e);let d=s();return v(d.signOut())}),r(8," Sign Out "),o()()}if(t&2){let e,l,d,y,c=s();a(),x("src",((e=c.currentUser())==null?null:e.imageUrl)||"/assets/default-avatar.png",O)("alt",(l=c.currentUser())==null?null:l.name),a(3),C((d=c.currentUser())==null?null:d.name),a(2),C((y=c.currentUser())==null?null:y.email)}}function G(t,n){t&1&&(u(0,"span",11),i(1,"span"),r(2,"Signing in..."),o())}function T(t,n){t&1&&(M(),i(0,"svg",12),u(1,"path",13)(2,"path",14)(3,"path",15)(4,"path",16),o(),P(),i(5,"span"),r(6,"Sign in with Google"),o())}function U(t,n){if(t&1){let e=f();i(0,"button",10),b("click",function(){h(e);let d=s();return v(d.signInWithGoogle())}),m(1,G,3,0)(2,T,7,0),o()}if(t&2){let e=s();x("disabled",e.isLoading),a(),p(e.isLoading?1:2)}}var z=class t{authService=_(k);router=_(L);isSignedIn=this.authService.isSignedIn;currentUser=this.authService.currentUser;isLoading=!1;error="";ngOnInit(){return g(this,null,function*(){try{yield this.authService.initializeGoogleAuth(),this.authService.isSignedIn()&&this.router.navigate(["/"])}catch(n){this.error=n?.message||"Failed to initialize Google authentication. Please check your configuration.",console.error("Auth initialization error:",n)}})}signInWithGoogle(){return g(this,null,function*(){this.isLoading=!0,this.error="";try{yield this.authService.signIn(),this.router.navigate(["/"])}catch(n){this.error="Failed to sign in. Please try again.",console.error("Sign in error:",n)}finally{this.isLoading=!1}})}signOut(){return g(this,null,function*(){try{yield this.authService.signOut()}catch(n){console.error("Sign out error:",n)}})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=E({type:t,selectors:[["app-login"]],decls:13,vars:2,consts:[[1,"login-container"],[1,"login-card"],[1,"login-header"],[1,"error-message"],[1,"user-info"],[1,"btn","btn-google",3,"disabled"],[1,"login-footer"],[1,"user-avatar",3,"src","alt"],[1,"user-details"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-google",3,"click","disabled"],[1,"spinner"],["width","18","height","18","viewBox","0 0 18 18","fill","none"],["d","M17.64 9.2c0-.637-.057-1.251-.164-1.84H9v3.481h4.844c-.209 1.125-.843 2.078-1.796 2.717v2.258h2.908c1.702-1.567 2.684-3.874 2.684-6.615z","fill","#4285F4"],["d","M9 18c2.43 0 4.467-.806 5.965-2.184l-2.908-2.258c-.806.54-1.837.86-3.057.86-2.35 0-4.34-1.587-5.053-3.72H.957v2.332C2.438 15.983 5.482 18 9 18z","fill","#34A853"],["d","M3.947 10.698c-.18-.54-.282-1.117-.282-1.698s.102-1.158.282-1.698V4.97H.957C.348 6.175 0 7.55 0 9s.348 2.825.957 4.03l2.99-2.332z","fill","#FBBC05"],["d","M9 3.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C13.463.891 11.426 0 9 0 5.482 0 2.438 2.017.957 4.97L3.947 7.302C4.66 5.167 6.65 3.58 9 3.58z","fill","#EA4335"]],template:function(e,l){e&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),r(4,"\u{1F4DD} Notes App"),o(),i(5,"p"),r(6,"Sign in to sync your notes with Google Drive"),o()(),m(7,I,2,1,"div",3),m(8,D,9,4,"div",4)(9,U,3,2,"button",5),i(10,"div",6)(11,"p"),r(12,"Your notes will be securely stored in your Google Drive"),o()()()()),e&2&&(a(7),p(l.error?7:-1),a(),p(l.isSignedIn()?8:9))},dependencies:[S],styles:[".login-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:var(--gradient-primary);padding:2rem}.login-card[_ngcontent-%COMP%]{background:var(--bg-elevated);border-radius:16px;padding:3rem;box-shadow:var(--shadow-xl);border:1px solid var(--border-color);max-width:400px;width:100%;text-align:center}@media (max-width: 640px){.login-card[_ngcontent-%COMP%]{padding:2rem 1.5rem}}.login-header[_ngcontent-%COMP%]{margin-bottom:2rem}.login-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:2rem;color:var(--text-primary)}.login-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);margin:0}.error-message[_ngcontent-%COMP%]{background:var(--error-color);color:#fff;padding:1rem;border-radius:8px;margin-bottom:1.5rem;font-size:.875rem;white-space:pre-wrap;text-align:left;line-height:1.6;max-height:400px;overflow-y:auto}.user-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem;padding:1.5rem 0}.user-info[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;border:3px solid var(--border-color)}.user-info[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .25rem;color:var(--text-primary)}.user-info[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--text-secondary);font-size:.875rem}.btn-google[_ngcontent-%COMP%]{width:100%;padding:.875rem 1.5rem;background:#fff;color:#333;border:1px solid var(--border-color);border-radius:8px;font-size:1rem;font-weight:500;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center;gap:.75rem;box-shadow:var(--shadow-sm)}.btn-google[_ngcontent-%COMP%]:hover:not(:disabled){box-shadow:var(--shadow-md);transform:translateY(-1px)}.btn-google[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn-google[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{flex-shrink:0}.spinner[_ngcontent-%COMP%]{width:18px;height:18px;border:2px solid var(--border-color);border-top-color:var(--primary-color);border-radius:50%;animation:_ngcontent-%COMP%_spin .6s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.login-footer[_ngcontent-%COMP%]{margin-top:2rem;padding-top:1.5rem;border-top:1px solid var(--border-color)}.login-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--text-tertiary);font-size:.875rem}.btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border:none;border-radius:8px;font-size:1rem;font-weight:500;cursor:pointer;transition:all .2s ease}.btn.btn-secondary[_ngcontent-%COMP%]{background:var(--bg-secondary);color:var(--text-primary);border:1px solid var(--border-color)}.btn.btn-secondary[_ngcontent-%COMP%]:hover{background:var(--bg-hover);border-color:var(--border-hover)}"]})};export{z as Login};
