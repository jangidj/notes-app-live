import{K as s,Z as a,_a as h}from"./chunk-QFRUTNPX.js";var l=class i{themeSignal=a("system");appliedThemeSignal=a("light");theme=this.themeSignal.asReadonly();appliedTheme=this.appliedThemeSignal.asReadonly();THEME_KEY="notes_app_theme";mediaQuery;constructor(){let e=localStorage.getItem(this.THEME_KEY);e&&["light","dark","system"].includes(e)?this.themeSignal.set(e):this.themeSignal.set("system"),this.mediaQuery=window.matchMedia("(prefers-color-scheme: dark)"),this.mediaQuery.addEventListener("change",()=>this.updateAppliedTheme()),h(()=>{this.updateAppliedTheme()}),this.updateAppliedTheme()}setTheme(e){this.themeSignal.set(e),localStorage.setItem(this.THEME_KEY,e),this.updateAppliedTheme()}toggleTheme(){let e=this.themeSignal();e==="system"?this.setTheme(this.appliedThemeSignal()==="dark"?"light":"dark"):this.setTheme(e==="light"?"dark":"light")}updateAppliedTheme(){let e=this.themeSignal(),t;e==="system"?t=this.mediaQuery.matches?"dark":"light":t=e,this.appliedThemeSignal.set(t),this.applyTheme(t)}applyTheme(e){let t=document.documentElement;t.classList.remove("light","dark"),t.classList.add(e)}static \u0275fac=function(t){return new(t||i)};static \u0275prov=s({token:i,factory:i.\u0275fac,providedIn:"root"})};export{l as a};
